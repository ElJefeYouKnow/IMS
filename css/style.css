:root{
  --font-body: "Manrope", "Segoe UI", sans-serif;
  --font-display: "Space Grotesk", "Segoe UI", sans-serif;
  --bg:#f7f9fb;
  --card:#ffffff;
  --accent:#0f7a57; /* dark green */
  --accent-strong:#0a1b2b; /* dark blue */
  --muted:#5c6470;
  --line: #e4e8ee;
}
@import url("https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap");
*{box-sizing:border-box}
body{margin:0;font-family:var(--font-body);background:var(--bg);color:#0f172a}
h1,h2,h3,.brand,.mode-btn,.tab-btn,.filter-btn{font-family:var(--font-display)}
.dark body{background:#06121d;color:#e6edf5}
.app{display:flex;min-height:100vh;flex-direction:row}
.main{max-width:100%;overflow-x:hidden;}
.sidebar{width:250px;background:linear-gradient(180deg,#0a1b2b 0%,#0b3d2e 100%);color:#fff;padding:22px 18px;display:flex;flex-direction:column;gap:14px;border-right:1px solid rgba(255,255,255,0.1);box-shadow:4px 0 20px rgba(0,0,0,0.25)}
.sidebar{position:sticky;top:0;align-self:flex-start;min-height:100vh}
.dark .sidebar{background:linear-gradient(180deg,#081523 0%,#0a2b20 100%);color:#e5e7eb}
.brand{font-weight:800;font-size:1.2rem;margin-bottom:4px;letter-spacing:0.4px}
.sidebar .subtitle{font-size:0.85rem;color:rgba(255,255,255,0.65);margin-top:-6px;margin-bottom:12px}
.user-chip{display:flex;align-items:center;gap:10px;background:rgba(255,255,255,0.05);padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);cursor:pointer;transition:transform .15s ease, box-shadow .15s ease}
.user-chip:hover{transform:translateY(-2px);box-shadow:0 10px 22px rgba(0,0,0,0.2)}
.user-chip .avatar{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,#16a34a,#0f7a57);display:inline-flex;align-items:center;justify-content:center;font-weight:700;color:#fff;letter-spacing:0.5px}
.user-chip .avatar.has-photo{color:transparent}
.sidebar nav{display:flex;flex-direction:column;gap:6px;margin-top:6px}
.sidebar a{color:rgba(255,255,255,0.9);text-decoration:none;padding:10px 12px;border-radius:10px;display:flex;align-items:center;gap:10px;font-weight:600;border:1px solid transparent;transition:all .2s}
.sidebar a[data-role]{display:none}
.sidebar a.always-visible{display:block}
.sidebar a.active{background:rgba(15,122,87,0.22);border-color:rgba(15,122,87,0.4);color:#e8fff6}
.sidebar a:hover{background:rgba(255,255,255,0.08);border-color:rgba(255,255,255,0.12)}
.collapse{display:none}
.main{flex:1;padding:20px}
.dark .main{background:#0b1020;color:#e5e7eb}
.topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding:14px 16px;border-radius:12px;background:linear-gradient(90deg,#0a1b2b,#0f7a57);color:#fff;box-shadow:0 10px 30px rgba(10,27,43,0.28)}
.topbar h1{margin:0;font-size:1.3rem;letter-spacing:0.2px}
.topbar-right{display:flex;align-items:center;gap:12px}
.topbar .muted{background:rgba(15,122,87,0.15)!important;color:#fff;border:1px solid rgba(255,255,255,0.16)!important;padding:8px 14px;border-radius:10px;font-weight:700;box-shadow:0 6px 18px rgba(0,0,0,0.18)}
.widgets{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:16px;margin-bottom:24px}
.card{margin-bottom:16px}
.card:last-of-type{margin-bottom:0}
.card{background:var(--card);padding:16px;border-radius:12px;box-shadow:0 12px 32px rgba(15,27,43,0.12);border:1px solid var(--line);transition:transform .15s ease, box-shadow .15s ease}
.card:hover{transform:translateY(-2px);box-shadow:0 16px 36px rgba(15,27,43,0.16)}
.dark .card{background:#0d1624;box-shadow:0 8px 30px rgba(0,0,0,0.45);border:1px solid #12233a}
.card h3{margin:0;color:var(--muted);font-size:0.9rem;letter-spacing:0.1px}
.dark .card h3{color:#cbd5f5}
.value{font-size:1.8rem;font-weight:800;margin-top:8px;color:#0f7a57;letter-spacing:0.2px}
.dark .value{color:#5eead4}
.panel{display:grid;grid-template-columns:2fr 1fr;gap:12px}
.quick-actions .card-header{margin-bottom:10px}
.quick-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
.action-tile{display:block;padding:14px;border-radius:12px;border:1px solid var(--line);background:linear-gradient(135deg,rgba(15,122,87,0.1),rgba(10,27,43,0.1));text-decoration:none;color:inherit;box-shadow:0 10px 26px rgba(15,27,43,0.12);transition:transform .15s ease, box-shadow .15s ease}
.action-tile:hover{transform:translateY(-2px);box-shadow:0 14px 32px rgba(15,27,43,0.18)}
.tile-title{font-weight:800;font-size:1rem;color:#0a1b2b}
.tile-sub{color:var(--muted);font-size:0.9rem}
.dark .action-tile{border-color:#12233a;background:linear-gradient(135deg,rgba(15,122,87,0.18),rgba(10,27,43,0.22));color:#e5e7eb}
.table-card table{font-size:0.9rem}
.table-card td,.table-card th{padding:8px}
.chart-card,.table-card{background:var(--card);padding:14px;border-radius:10px;border:1px solid var(--line);box-shadow:0 6px 24px rgba(15,27,43,0.06)}
table{width:100%;border-collapse:collapse}
thead th{text-align:left;padding:8px;color:var(--muted);font-size:0.85rem}
tbody td{padding:10px;border-top:1px solid #eef2f7}
.clock{font-size:0.9rem;color:var(--muted)}
.clock-pill{display:inline-flex;align-items:center;gap:6px;background:rgba(255,255,255,0.08);border:1px solid rgba(255,255,255,0.12);padding:6px 10px;border-radius:10px;box-shadow:0 6px 16px rgba(0,0,0,0.12)}
.clock-label{color:#cbd5f5;font-size:11px;font-weight:700;letter-spacing:0.5px;text-transform:uppercase}
.clock-value{color:#fff;font-weight:800;font-size:14px}
.corner-clock{position:fixed;top:16px;right:16px;z-index:200}
.dark thead th{color:#cbd5f5}
.dark tbody td{color:#fff;border-top:1px solid #1f2937}

/* Mobile-friendly nav + layout */
.mobile-nav{display:none}
.bottom-nav{position:sticky;bottom:0;left:0;right:0;background:rgba(9,14,26,0.92);backdrop-filter:blur(10px);color:#fff;z-index:60;border-top:1px solid rgba(255,255,255,0.1);box-shadow:0 -10px 30px rgba(0,0,0,0.35);display:none;padding:10px 12px;border-radius:18px 18px 0 0}
.bottom-nav .nav-toggle{width:100%;background:linear-gradient(135deg,#0f7a57,#14a26d);color:#fff;font-weight:800;padding:14px 16px;border:none;cursor:pointer;letter-spacing:0.3px;border-radius:14px;box-shadow:0 10px 24px rgba(20,162,109,0.35);transition:transform .15s ease, box-shadow .15s ease}
.bottom-nav .nav-toggle:hover{transform:translateY(-1px);box-shadow:0 12px 26px rgba(20,162,109,0.4)}
.bottom-nav .nav-items{display:flex;gap:10px;align-items:center;overflow-x:auto;padding:10px 6px;background:transparent;max-height:0;opacity:0;transform:translateY(8px);pointer-events:none;transition:max-height .25s ease, opacity .2s ease, transform .2s ease}
.bottom-nav.expanded{position:fixed;inset:0;border-radius:0;padding:16px;display:flex;flex-direction:column;gap:14px}
.bottom-nav.expanded .nav-toggle{position:sticky;top:0;z-index:1}
.bottom-nav.expanded .nav-items{max-height:calc(100vh - 120px);opacity:1;transform:translateY(0);pointer-events:auto;overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;align-items:stretch;gap:12px;padding:8px 2px}
.bottom-nav a{color:rgba(255,255,255,0.95);text-decoration:none;font-size:1.05rem;padding:16px 18px;border-radius:16px;border:1px solid rgba(255,255,255,0.14);white-space:nowrap;display:inline-flex;align-items:center;gap:10px;background:rgba(255,255,255,0.07);box-shadow:0 10px 22px rgba(0,0,0,0.25)}
.bottom-nav a[data-role]{display:none}
.bottom-nav a:not([data-role]){display:inline-flex}
.bottom-nav a.active{background:linear-gradient(135deg,#0f7a57,#0a1b2b);border-color:rgba(255,255,255,0.2);box-shadow:0 12px 24px rgba(0,0,0,0.35)}
.bottom-nav-backdrop{position:fixed;inset:0;background:rgba(6,18,29,0.42);backdrop-filter:blur(2px);opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:55}
.bottom-nav-backdrop.active{opacity:1;pointer-events:auto}
.sticky-actions{position:sticky;bottom:20px;background:var(--card);padding:8px 0;z-index:10}
.dark .sticky-actions{background:#111827}

@media(max-width:900px){
  .panel{grid-template-columns:1fr}
}
@media(max-width:800px){
  .app{flex-direction:column}
  .sidebar{display:none}
  .main{padding:12px;padding-bottom:100px}
  .bottom-nav{display:block!important}
  .widgets{grid-template-columns:1fr}
  .mobile-hide{display:none}
}

/* Inventory page tweaks */
.inventory-card{margin-bottom:12px}
.inventory-form{display:flex;flex-direction:column;gap:10px}
.inventory-toolbar{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin:8px 0 12px 0}
.inventory-toolbar input{max-width:260px}
.inventory-toolbar .muted{white-space:nowrap;background:#eef2f7;color:#0a1b2b;border:1px solid #d5dbe4;padding:8px 12px;border-radius:8px;font-weight:700;text-decoration:none}
.dark .inventory-toolbar .muted{background:#0f172a;color:#fff;border:1px solid #1f2937}
.filter-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#f8fafc;font-size:0.8rem;font-weight:700;color:#0a1b2b}
.filter-chip input{margin:0}
.scan-toggle{background:rgba(15,122,87,0.08);border-color:rgba(15,122,87,0.3)}
.sticky-bar{position:sticky;top:0;background:var(--card);padding:10px;border-radius:12px;z-index:6;box-shadow:0 10px 24px rgba(15,27,43,0.08)}
.dark .sticky-bar{background:#0d1624}
.count-input-col{display:none}
body.count-mode .count-input-col{display:table-cell}
.count-input{width:100%;max-width:120px;padding:6px;border-radius:8px;border:1px solid #e6edf3}
.row-detail{background:#f8fafc}
.row-detail td{border-top:none;padding:12px}
.row-detail .detail-grid{display:flex;flex-wrap:wrap;gap:8px}
.row-detail .detail-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#ffffff;font-size:0.8rem;font-weight:700;color:#0a1b2b}
.row-detail .detail-chip strong{color:var(--muted);font-weight:700}
.dark .row-detail{background:#0f172a}
.dark .row-detail .detail-chip{background:#0b1020;border-color:#1f2937;color:#e5e7eb}
.action-btn{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:8px;border:1px solid #d5dbe4;background:#eef2f7;color:#0a1b2b;font-weight:700;text-decoration:none;margin-right:6px}
.dark .action-btn{background:#0f172a;color:#fff;border:1px solid #1f2937}
.job-breakdown{display:flex;flex-direction:column;gap:6px}
.job-row{display:flex;justify-content:space-between;align-items:center;padding:6px 10px;border-radius:8px;border:1px solid var(--line);background:#ffffff;font-size:0.85rem;font-weight:700;color:#0a1b2b}
.job-empty{color:var(--muted);font-size:0.85rem}
.dark .job-row{background:#0b1020;border-color:#1f2937;color:#e5e7eb}
.stale{color:#b45309;font-weight:800}
.discrepancy-badge{display:inline-block;padding:4px 8px;border-radius:999px;font-size:0.75rem;font-weight:800}
.discrepancy-badge.ok{background:rgba(15,122,87,0.12);color:#0a1b2b;border:1px solid rgba(15,122,87,0.3)}
.discrepancy-badge.warn{background:rgba(234,179,8,0.16);color:#854d0e;border:1px solid rgba(234,179,8,0.4)}
.discrepancy-badge.bad{background:rgba(239,68,68,0.16);color:#7f1d1d;border:1px solid rgba(239,68,68,0.4)}
.row-highlight{outline:2px solid rgba(15,122,87,0.55);outline-offset:-2px}
.form-row{display:flex;gap:10px;position:relative}
.line-items{display:flex;flex-direction:column;gap:10px;margin-bottom:8px}
.line-row{align-items:flex-end}
.order-lines-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.order-line{border:1px dashed var(--line);padding:10px;border-radius:10px;background:rgba(15,122,87,0.04)}
.order-line.has-error{border-color:rgba(239,68,68,0.6);background:rgba(239,68,68,0.06)}
.line-error{min-height:16px;font-size:0.8rem;color:#b91c1c;margin-top:4px}
.toggle-inline{display:flex;align-items:center;gap:6px;font-size:0.85rem;font-weight:700;color:#0a1b2b}
.toggle-inline input{width:auto}
.dark .toggle-inline{color:#e5e7eb}
.summary-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px;margin:10px 0}
.summary-item{background:#f8fafc;border:1px solid var(--line);border-radius:12px;padding:10px;display:flex;flex-direction:column;gap:4px}
.summary-item span{font-size:0.8rem;color:var(--muted);font-weight:700}
.summary-item strong{font-size:1.2rem;color:#0a1b2b}
.summary-list{margin-top:10px}
.summary-items{display:flex;flex-direction:column;gap:6px;margin-top:6px}
.summary-row{display:flex;justify-content:space-between;align-items:center;padding:6px 10px;border-radius:10px;border:1px solid var(--line);background:#ffffff;font-size:0.85rem;font-weight:700;color:#0a1b2b}
.filter-chips{display:flex;gap:6px;flex-wrap:wrap}
.filter-btn{padding:6px 10px;border-radius:999px;border:1px solid #e2e8f0;background:#f8fafc;color:#0a1b2b;font-weight:700;cursor:pointer}
.filter-btn.active{background:linear-gradient(135deg,#0a1b2b,#0f7a57);color:#fff;border-color:rgba(255,255,255,0.3)}
.modal{position:fixed;inset:0;background:rgba(3,7,18,0.55);display:flex;align-items:center;justify-content:center;z-index:100}
.modal.hidden{display:none}
.modal-content{background:var(--card);color:inherit;border-radius:14px;padding:16px;width:min(900px,94vw);max-height:80vh;overflow:auto;box-shadow:0 20px 50px rgba(0,0,0,0.4);border:1px solid var(--line)}
.modal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
.modal .muted{background:#eef2f7;color:#0a1b2b;border:1px solid #d5dbe4;padding:8px 12px;border-radius:8px;font-weight:700}
.dark .modal .muted{background:#0f172a;color:#fff;border:1px solid #1f2937}
.confirm-summary{margin:12px 0;font-weight:700;color:#0a1b2b}
.confirm-summary span{color:var(--muted);font-weight:600}
.confirm-table{width:100%;border-collapse:collapse}
.confirm-table th{color:var(--muted);font-size:0.85rem;text-align:left;padding:8px 6px}
.confirm-table td{padding:10px 6px;border-top:1px solid #eef2f7}
.dark .confirm-summary{color:#e5e7eb}
.dark .confirm-table td{border-top:1px solid #1f2937}
.available-pill{display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:8px;border:1px solid var(--line);background:#ffffff;font-weight:700;font-size:0.85rem}
.dark .order-line{background:rgba(15,122,87,0.12);border-color:#1f2937}
.dark .summary-item{background:#0f172a;border-color:#1f2937;color:#e5e7eb}
.dark .summary-row{background:#0b1020;border-color:#1f2937;color:#e5e7eb}
.dark .filter-btn{background:#0f172a;color:#e5e7eb;border-color:#1f2937}
.dark .available-pill{background:#0b1020;border-color:#1f2937;color:#e5e7eb}
.dark input,.dark select,.dark textarea{background:#0f172a;color:#e5e7eb;border-color:#1f2937}
.form-row select,
select{
  appearance:none;
  -webkit-appearance:none;
  -moz-appearance:none;
  padding:10px 38px 10px 12px;
  border-radius:10px;
  border:1px solid #d6dde6;
  background:
    linear-gradient(135deg, rgba(15,122,87,0.08), rgba(10,27,43,0.06)) padding-box,
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%230f172a' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>") no-repeat right 12px center;
  font-weight:700;
  color:#0a1b2b;
  box-shadow:0 8px 18px rgba(10,27,43,0.08);
  transition:border-color .15s ease, box-shadow .15s ease, transform .15s ease;
}
.form-row select:focus,
select:focus{
  outline:none;
  border-color:rgba(15,122,87,0.6);
  box-shadow:0 0 0 3px rgba(15,122,87,0.18), 0 10px 22px rgba(10,27,43,0.12);
}
.form-row select:hover,
select:hover{
  transform:translateY(-1px);
  border-color:rgba(15,122,87,0.4);
}
.form-row select:disabled,
select:disabled{
  opacity:0.6;
  cursor:not-allowed;
  box-shadow:none;
}
.dark .form-row select,
.dark select{
  background:
    linear-gradient(135deg, rgba(15,122,87,0.18), rgba(10,27,43,0.3)) padding-box,
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%23e5e7eb' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>") no-repeat right 12px center;
  border-color:#1f2937;
  color:#e5e7eb;
}
.report-detail td{background:#f8fafc}
.report-detail .detail-table{width:100%;border-collapse:collapse;font-size:0.85rem}
.report-detail .detail-table th{padding:6px;text-align:left;color:var(--muted);font-size:0.8rem}
.report-detail .detail-table td{padding:6px;border-top:1px solid #e5e7eb}
.dark .report-detail td{background:#0f172a}
.dark .report-detail .detail-table td{border-top:1px solid #1f2937}
.compact .card{padding:10px}
.compact .form-row{gap:6px}
.compact .line-items{gap:6px}
.suggestions{position:absolute;top:100%;left:0;background:#fff;border:1px solid #e6edf3;border-radius:6px;max-height:200px;overflow-y:auto;z-index:10;width:100%;min-width:200px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
.with-suggest{position:relative;display:block}
.form-row label{display:flex;flex-direction:column;flex:1;font-size:0.9rem}
.form-row input,.form-row textarea,.form-row select{padding:8px;border-radius:6px;border:1px solid #e6edf3}
.eta-input{padding-right:40px}
.eta-input::-webkit-calendar-picker-indicator{cursor:pointer;padding:6px;border-radius:8px;background-color:rgba(15,122,87,0.14)}
.dark .eta-input::-webkit-calendar-picker-indicator{background-color:rgba(15,122,87,0.32)}
.inventory-form button{padding:10px 12px;border-radius:8px;border:none;background:var(--accent);color:#fff;font-weight:700;box-shadow:0 8px 16px rgba(15,122,87,0.25)}
.inventory-form button.muted{background:#eef2f7;color:#0a1b2b;border:1px solid #d5dbe4}
.dark .inventory-form button.muted{background:#0f172a;color:#fff;border:1px solid #1f2937}
@media(max-width:680px){.form-row{flex-direction:column}}
@media(max-width:680px){
  .line-items{gap:12px}
  .line-row{border:1px solid var(--line);padding:12px;border-radius:12px;background:rgba(15,122,87,0.06)}
  .dark .line-row{background:#0f172a;border-color:#1f2937}
  .line-row label{width:100%}
  .line-row .remove-line{width:100%}
  .line-row button{width:100%}
  .line-row input,.line-row select,.line-row textarea{font-size:16px}
}

.tab-btn{background:#f1f5f9;border:1px solid #e2e8f0;color:#0a1b2b;font-weight:700}
.tab-btn.active{background:linear-gradient(135deg,#0a1b2b,#0f7a57);color:#fff;border-color:rgba(255,255,255,0.3);box-shadow:0 10px 24px rgba(10,27,43,0.2)}
.mode-tabs{display:flex;gap:8px;margin:0 0 6px 0}
.inventory-tabs{flex-wrap:wrap}
.mode-btn{flex:1;padding:10px 12px;border-radius:12px;border:1px solid #e2e8f0;background:#f8fafc;color:#0a1b2b;font-weight:800;cursor:pointer;box-shadow:0 6px 16px rgba(15,27,43,0.08);transition:all .15s ease}
.mode-btn.active{background:linear-gradient(135deg,#0a1b2b,#0f7a57);color:#fff;border-color:rgba(255,255,255,0.28);box-shadow:0 10px 24px rgba(10,27,43,0.22)}
.mode-btn:disabled{opacity:0.5;cursor:not-allowed;box-shadow:none}
.mode-content{display:none}
.mode-content.active{display:block}
@media(max-width:720px){
  .mode-tabs{flex-wrap:wrap}
  .mode-btn{flex:1 1 160px;padding:8px 10px;font-size:0.9rem}
}
.report-cards{display:flex;flex-direction:column;gap:12px;margin-top:8px}
.report-card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px;box-shadow:0 10px 24px rgba(10,27,43,0.08)}
.report-card-header{display:flex;justify-content:space-between;gap:12px;align-items:flex-start}
.report-card-title{font-weight:800;font-size:1rem}
.report-card-sub{color:var(--muted);font-size:0.85rem;margin-top:2px}
.report-card-controls{display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:flex-end}
.report-card-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:8px;margin-top:10px}
.report-chip{background:rgba(15,122,87,0.06);border:1px solid rgba(15,122,87,0.16);border-radius:10px;padding:8px 10px;display:flex;flex-direction:column;gap:4px}
.report-chip span{font-size:0.75rem;color:var(--muted);font-weight:700;letter-spacing:0.2px;text-transform:uppercase}
.report-chip strong{font-size:0.95rem;color:inherit}
.report-metrics{display:flex;gap:12px;margin-top:12px;flex-wrap:wrap}
.report-metric{flex:1 1 140px;background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:10px}
.report-metric span{font-size:0.75rem;color:#64748b;font-weight:700;text-transform:uppercase;letter-spacing:0.2px}
.report-metric strong{display:block;font-size:1.1rem;margin-top:4px;color:#0f7a57}
.report-notes{margin-top:12px;border-top:1px dashed var(--line);padding-top:10px;font-size:0.9rem;color:var(--muted)}
.report-card-actions{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
.report-detail{margin-top:10px}
.report-empty{padding:16px;border:1px dashed var(--line);border-radius:12px;color:var(--muted);text-align:center;background:rgba(15,122,87,0.04)}
.dark .report-metric{background:#0f172a;border-color:#1f2937}
.page-grid{display:grid;grid-template-columns:2fr 1.3fr;gap:14px;align-items:start}
@media(max-width:960px){
  .page-grid{grid-template-columns:1fr}
}
.muted-text{color:var(--muted);font-size:0.9rem;margin:0 0 8px 0}
.data-toolbar{display:flex;align-items:center;gap:10px;margin:8px 0}
.data-toolbar input{max-width:200px}
.badge{display:inline-block;padding:4px 8px;border-radius:999px;font-size:0.75rem;font-weight:700;line-height:1;border:1px solid #e2e8f0;color:#0a1b2b;background:#f8fafc}
.badge.info{background:rgba(15,122,87,0.12);color:#0a1b2b;border-color:rgba(15,122,87,0.3)}
.badge.warn{background:rgba(234,179,8,0.14);color:#854d0e;border-color:rgba(234,179,8,0.4)}
.badge.danger{background:rgba(239,68,68,0.14);color:#7f1d1d;border-color:rgba(239,68,68,0.4)}
.status-pill{display:inline-flex;align-items:center;justify-content:center;padding:4px 10px;border-radius:999px;font-size:0.75rem;font-weight:800;line-height:1;border:1px solid transparent;text-transform:capitalize}
.status-pill.active{background:rgba(15,122,87,0.12);color:#0a1b2b;border-color:rgba(15,122,87,0.3)}
.status-pill.trial{background:rgba(59,130,246,0.12);color:#1e3a8a;border-color:rgba(59,130,246,0.3)}
.status-pill.past_due{background:rgba(239,68,68,0.16);color:#7f1d1d;border-color:rgba(239,68,68,0.4)}
.status-pill.cancelled{background:rgba(148,163,184,0.2);color:#334155;border-color:rgba(148,163,184,0.4)}
.status-pill.low{background:rgba(16,185,129,0.12);color:#065f46;border-color:rgba(16,185,129,0.3)}
.status-pill.medium{background:rgba(234,179,8,0.16);color:#854d0e;border-color:rgba(234,179,8,0.4)}
.status-pill.high{background:rgba(239,68,68,0.16);color:#7f1d1d;border-color:rgba(239,68,68,0.4)}
.status-pill.open{background:rgba(59,130,246,0.12);color:#1e3a8a;border-color:rgba(59,130,246,0.3)}
.status-pill.pending{background:rgba(234,179,8,0.16);color:#854d0e;border-color:rgba(234,179,8,0.4)}
.status-pill.closed{background:rgba(148,163,184,0.2);color:#334155;border-color:rgba(148,163,184,0.4)}
.dark .status-pill.active{background:rgba(15,122,87,0.2);color:#ecfeff;border-color:rgba(15,122,87,0.35)}
.dark .status-pill.trial,.dark .status-pill.open{background:rgba(59,130,246,0.2);color:#dbeafe;border-color:rgba(59,130,246,0.35)}
.dark .status-pill.past_due,.dark .status-pill.high{background:rgba(239,68,68,0.2);color:#fee2e2;border-color:rgba(239,68,68,0.35)}
.dark .status-pill.cancelled,.dark .status-pill.closed{background:rgba(148,163,184,0.25);color:#e2e8f0;border-color:rgba(148,163,184,0.35)}
.dark .status-pill.low{background:rgba(16,185,129,0.2);color:#d1fae5;border-color:rgba(16,185,129,0.35)}
.dark .status-pill.medium,.dark .status-pill.pending{background:rgba(234,179,8,0.22);color:#fef3c7;border-color:rgba(234,179,8,0.4)}
.sticky-actions-mobile{position:sticky;bottom:0;padding:8px 0;background:var(--card);z-index:5}
.dark .sticky-actions-mobile{background:#0d1624}
.bulk-box textarea{font-family:ui-monospace,SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace}

/* Role visibility helpers */
body.role-admin .sidebar a[data-role='admin']{display:flex}
body.role-employee .sidebar a[data-role='employee']{display:flex}
body.role-none .sidebar a[data-role]{display:none}
body.role-admin .bottom-nav a[data-role='admin']{display:inline-flex}
body.role-employee .bottom-nav a[data-role='employee']{display:inline-flex}
body.role-none .bottom-nav a[data-role]{display:none}
body.role-employee .admin-only{display:none}
.settings-tabs{margin-bottom:12px;flex-wrap:wrap}
.settings-panel{display:flex;flex-direction:column;gap:12px}
.settings-msg{font-size:0.9rem;color:#6b7280;margin-top:8px}
.settings-action{padding:10px 12px;border-radius:8px;border:none;background:var(--accent);color:#fff;font-weight:700;box-shadow:0 8px 16px rgba(15,122,87,0.25);cursor:pointer}
.settings-action:disabled{opacity:0.6;cursor:not-allowed;box-shadow:none}
.ticket-subject{font-weight:700;color:#0f172a}
.ticket-body{color:var(--muted);font-size:0.85rem;margin-top:4px}
.dark .ticket-subject{color:#e5e7eb}

/* Design system preview scope (order-register.html) */
[data-ds="v1"]{
  --ds-bg:#f4f6fb;
  --ds-surface:#ffffff;
  --ds-surface-2:#eef2f6;
  --ds-text:#0b1220;
  --ds-muted:#4b5563;
  --ds-accent:#0f7a57;
  --ds-accent-strong:#0a1b2b;
  --ds-border:#dbe3ec;
  --ds-radius-sm:10px;
  --ds-radius-md:14px;
  --ds-radius-lg:18px;
  --ds-shadow-1:0 8px 20px rgba(11,18,32,0.08);
  --ds-shadow-2:0 16px 32px rgba(11,18,32,0.12);
  --ds-space-1:4px;
  --ds-space-2:8px;
  --ds-space-3:12px;
  --ds-space-4:16px;
  --ds-space-5:20px;
  --ds-space-6:24px;
  --ds-space-7:32px;
  background:var(--ds-bg);
  color:var(--ds-text);
  background-image:
    radial-gradient(1200px 500px at -10% -10%, rgba(15,122,87,0.08), transparent 60%),
    radial-gradient(900px 400px at 110% 0%, rgba(10,27,43,0.08), transparent 55%);
}
[data-ds="v1"] .main{padding:var(--ds-space-6)}
[data-ds="v1"] .topbar{
  background:linear-gradient(120deg,#0a1b2b,#0f7a57);
  border-radius:var(--ds-radius-lg);
  box-shadow:var(--ds-shadow-2);
}
[data-ds="v1"] .topbar h1{font-size:1.35rem;letter-spacing:0.2px}
[data-ds="v1"] .card{
  border-radius:var(--ds-radius-lg);
  padding:var(--ds-space-6);
  box-shadow:var(--ds-shadow-1);
  border:1px solid var(--ds-border);
}
[data-ds="v1"] .card:hover{transform:none}
[data-ds="v1"] .card h3{
  font-size:0.85rem;
  letter-spacing:0.12em;
  text-transform:uppercase;
  color:var(--ds-muted);
}
[data-ds="v1"] .page-grid{gap:var(--ds-space-5)}
[data-ds="v1"] .form-row{gap:var(--ds-space-3)}
[data-ds="v1"] label{gap:var(--ds-space-1);font-weight:600;color:var(--ds-muted)}
[data-ds="v1"] input,
[data-ds="v1"] select,
[data-ds="v1"] textarea{
  background:var(--ds-surface);
  border:1px solid var(--ds-border);
  border-radius:var(--ds-radius-md);
  padding:10px 12px;
  min-height:44px;
  font-size:0.95rem;
  color:var(--ds-text);
  box-shadow:inset 0 1px 2px rgba(11,18,32,0.05);
}
[data-ds="v1"] input::placeholder,
[data-ds="v1"] textarea::placeholder{color:#94a3b8}
[data-ds="v1"] .eta-input{padding-right:44px}
[data-ds="v1"] .toggle-inline{color:var(--ds-text)}
[data-ds="v1"] .mode-tabs{
  background:var(--ds-surface-2);
  border:1px solid var(--ds-border);
  padding:6px;
  border-radius:999px;
}
[data-ds="v1"] .mode-btn{
  border-radius:999px;
  background:transparent;
  border:1px solid transparent;
  box-shadow:none;
  min-height:42px;
}
[data-ds="v1"] .mode-btn.active{
  background:var(--ds-surface);
  color:var(--ds-text);
  border-color:var(--ds-border);
  box-shadow:var(--ds-shadow-1);
}
[data-ds="v1"] button,
[data-ds="v1"] .action-btn,
[data-ds="v1"] .filter-btn{
  border-radius:var(--ds-radius-md);
  padding:10px 14px;
  min-height:44px;
  font-weight:700;
  transition:transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
}
[data-ds="v1"] button:active,
[data-ds="v1"] .action-btn:active,
[data-ds="v1"] .filter-btn:active{transform:translateY(1px)}
[data-ds="v1"] .muted,
[data-ds="v1"] .action-btn,
[data-ds="v1"] .filter-btn{
  background:var(--ds-surface-2);
  border:1px solid var(--ds-border);
  color:var(--ds-text);
  box-shadow:0 6px 14px rgba(11,18,32,0.08);
}
[data-ds="v1"] .inventory-form button:not(.muted){
  background:linear-gradient(135deg,#0f7a57,#17a27a);
  border:1px solid rgba(15,122,87,0.4);
  box-shadow:0 10px 18px rgba(15,122,87,0.25);
}
[data-ds="v1"] .filter-btn.active{
  background:linear-gradient(135deg,#0a1b2b,#0f7a57);
  color:#fff;
  border-color:rgba(15,122,87,0.5);
}
[data-ds="v1"] .badge{
  border-radius:999px;
  padding:6px 12px;
  font-weight:800;
  letter-spacing:0.02em;
  background:rgba(15,122,87,0.12);
  border-color:rgba(15,122,87,0.32);
}
[data-ds="v1"] .summary-item{
  background:linear-gradient(135deg,#ffffff,#f3f6fb);
  border-radius:var(--ds-radius-lg);
  border:1px solid var(--ds-border);
}
[data-ds="v1"] .summary-item strong{color:var(--ds-accent)}
[data-ds="v1"] .summary-row{
  border-radius:var(--ds-radius-md);
  border:1px solid var(--ds-border);
  background:var(--ds-surface);
  box-shadow:0 6px 14px rgba(11,18,32,0.06);
}
[data-ds="v1"] table{border-collapse:separate;border-spacing:0 6px}
[data-ds="v1"] thead th{
  padding:0 12px 6px;
  font-size:0.72rem;
  text-transform:uppercase;
  letter-spacing:0.16em;
  color:var(--ds-muted);
}
[data-ds="v1"] tbody tr{
  background:var(--ds-surface);
  box-shadow:0 6px 16px rgba(11,18,32,0.08);
}
[data-ds="v1"] tbody td{
  padding:12px;
  border-top:none;
}
[data-ds="v1"] tbody tr td:first-child{border-radius:var(--ds-radius-md) 0 0 var(--ds-radius-md)}
[data-ds="v1"] tbody tr td:last-child{border-radius:0 var(--ds-radius-md) var(--ds-radius-md) 0}
[data-ds="v1"] .ds-empty{
  border:1px dashed var(--ds-border);
  border-radius:var(--ds-radius-md);
  padding:12px;
  text-align:center;
  color:var(--ds-muted);
  background:rgba(15,122,87,0.04);
}
[data-ds="v1"] .ds-table-empty{
  text-align:center;
  color:var(--ds-muted);
  font-weight:600;
  background:rgba(15,122,87,0.04);
}
[data-ds="v1"] :is(button,input,select,textarea):focus-visible{
  outline:3px solid rgba(15,122,87,0.25);
  outline-offset:2px;
}
@media(max-width:800px){
  [data-ds="v1"] .main{padding:var(--ds-space-4);padding-bottom:110px}
  [data-ds="v1"] .card{padding:var(--ds-space-5)}
  [data-ds="v1"] .mode-tabs{border-radius:16px}
  [data-ds="v1"] input,
  [data-ds="v1"] select,
  [data-ds="v1"] textarea{font-size:16px}
}

