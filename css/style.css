@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Unbounded:wght@500;600;700&display=swap");
:root{
  --font-body: "Space Grotesk", "Karla", sans-serif;
  --font-display: "Unbounded", "Space Grotesk", sans-serif;
  --text-xs:0.72rem;
  --text-sm:0.85rem;
  --text-base:0.95rem;
  --text-lg:1.15rem;
  --text-xl:1.35rem;
  --radius-sm:8px;
  --radius-md:12px;
  --radius-lg:16px;
  --control-padding:10px 12px;
  --control-height:42px;
  --bg:#f5f7f9;
  --card:#ffffff;
  --accent:#1f6f5c;
  --accent-strong:#132a24;
  --muted:#55626f;
  --line:#d9e0e6;
  --ink:#1f2933;
  --surface-2:#eef2f6;
  --topo-line: rgba(31, 111, 92, 0.08);
  --topo-line-2: rgba(31, 111, 92, 0.05);
  --topo-glow: rgba(31, 111, 92, 0.06);
}
html{font-size:90%}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:var(--font-body);
  font-size:var(--text-base);
  background:var(--bg);
  color:var(--ink);
  line-height:1.5;
  background-image:linear-gradient(180deg, rgba(255,255,255,0.85), rgba(244,245,243,0.98));
  position:relative;
  isolation:isolate;
}
body::before{
  content:"";
  position:fixed;
  inset:-20% -10%;
  background-image:
    repeating-radial-gradient(circle at 12% 16%, var(--topo-line) 0 1px, transparent 1px 26px),
    repeating-linear-gradient(120deg, rgba(255,255,255,0.35) 0 160px, rgba(242,245,241,0.6) 160px 320px);
  opacity:0.35;
  pointer-events:none;
  z-index:0;
}
body::after{
  content:"";
  position:fixed;
  inset:0;
  background:radial-gradient(circle at top right, var(--topo-glow), transparent 60%);
  pointer-events:none;
  z-index:0;
}

/* Auth pages */
body.auth-page{
  background:linear-gradient(135deg,#0f332c 0%,#1f6f5c 100%);
  background-image:none;
}
body.auth-page::before{
  content:"";
  position:fixed;
  inset:-20% -10%;
  background-image:
    repeating-linear-gradient(135deg, rgba(255,255,255,0.08) 0 2px, transparent 2px 26px),
    repeating-radial-gradient(circle at 18% 20%, rgba(255,255,255,0.1) 0 1px, transparent 1px 22px);
  opacity:0.35;
  pointer-events:none;
  z-index:0;
}
body.auth-page::after{
  content:"";
  position:fixed;
  inset:0;
  background:radial-gradient(circle at top right, rgba(255,255,255,0.12), transparent 55%);
  pointer-events:none;
  z-index:0;
}
.auth-wrapper{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:20px;position:relative;z-index:1;}
.auth-card{background:var(--card);color:var(--ink);padding:28px;border-radius:var(--radius-lg);box-shadow:0 20px 60px rgba(24,36,32,0.2);width:100%;max-width:420px;border:1px solid var(--line);}
.auth-card h1{margin-top:0;margin-bottom:10px;font-weight:800;letter-spacing:0.3px;}
.auth-card .inventory-form{gap:14px;}
.auth-card a{color:var(--accent);font-weight:700;text-decoration:none;}
.auth-subtitle{color:var(--muted);margin-top:0;margin-bottom:16px;}
.auth-footer{font-size:var(--text-sm);color:var(--muted);}
.auth-error{color:#b91c1c;font-size:var(--text-sm);margin-top:8px;}
.auth-error-tight{margin-top:4px;}
.auth-actions{align-items:center;justify-content:space-between;gap:12px;}
.auth-links{display:flex;align-items:center;justify-content:space-between;margin-top:6px;font-size:var(--text-sm);}
.auth-link{background:none;border:none;padding:0;color:var(--accent);font-weight:700;cursor:pointer;text-decoration:none;}
.auth-link:focus-visible{outline:2px solid rgba(31,111,92,0.35);outline-offset:2px;border-radius:4px;}
.auth-checks{display:flex;flex-direction:column;gap:6px;flex:1;}
.auth-actions .remember-label{display:flex;align-items:center;gap:10px;font-size:var(--text-sm);color:var(--muted);flex-direction:row;}
.auth-actions input[type="checkbox"]{width:16px;height:16px;margin:0;accent-color:#1f6f5c;border-radius:4px;box-shadow:0 0 0 1px rgba(31,111,92,0.2);}
.back-link{margin-top:14px;width:100%;background:linear-gradient(135deg,rgba(31,111,92,0.14),rgba(19,42,36,0.16));border:1px solid rgba(31,111,92,0.4);box-shadow:0 10px 24px rgba(31,111,92,0.2);color:var(--accent-strong);font-weight:800;text-transform:uppercase;letter-spacing:0.12em;font-size:var(--text-xs);padding:12px;border-radius:12px;cursor:pointer;transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease, background .15s ease;}
.back-link:hover{transform:translateY(-1px);box-shadow:0 12px 26px rgba(31,111,92,0.28);border-color:rgba(31,111,92,0.7);}
.back-link:focus-visible{outline:3px solid rgba(31,111,92,0.35);outline-offset:2px;}
.tab-toggle{display:flex;gap:8px;margin-bottom:12px;}
.tab-toggle button{flex:1;padding:10px;border:1px solid var(--line);background:var(--surface-2);border-radius:var(--radius-md);font-weight:700;cursor:pointer;}
.tab-toggle button.active{background:linear-gradient(135deg,#132a24,#1f6f5c);color:#fff;border-color:rgba(31,111,92,0.4);box-shadow:0 8px 20px rgba(31,111,92,0.25);}
.admin-note{font-size:var(--text-sm);color:#b91c1c;background:#fff5f5;padding:8px;border-radius:var(--radius-sm);border:1px solid #fecdd3;}
.hint{color:var(--muted);font-size:var(--text-base);margin-bottom:14px;line-height:1.45;}
body.auth-page .form-row input,
body.auth-page .form-row textarea,
body.auth-page .form-row select{background:#fff;color:var(--ink);}
.hidden{display:none;}
h1,h2,h3,.brand,.mode-btn,.tab-btn,.filter-btn{font-family:var(--font-display)}
h1{font-size:var(--text-xl);line-height:1.2}
h2{font-size:1.2rem;line-height:1.25}
h3{font-size:0.95rem;line-height:1.3}
label{font-size:var(--text-sm);font-weight:600;color:var(--muted)}
.dark body{
  background:#0f1916;
  color:#f6fbf8;
  background-image:linear-gradient(180deg, rgba(12,22,19,0.92), rgba(8,15,13,0.97));
  --ink:#f6fbf8;
  --muted:#cbd8d2;
  --topo-line: rgba(97, 197, 171, 0.12);
  --topo-line-2: rgba(97, 197, 171, 0.08);
  --topo-glow: rgba(79, 178, 151, 0.08);
}
.app{display:flex;min-height:100vh;flex-direction:row;position:relative;z-index:1}
.main{max-width:100%;overflow-x:hidden;}
.sidebar{
  width:250px;
  background:linear-gradient(180deg,#0f2e2a 0%,#1b3c33 100%);
  color:#f6fbf8;
  padding:22px 18px;
  display:flex;
  flex-direction:column;
  gap:14px;
  font-size:var(--text-sm);
  border-right:1px solid rgba(31,111,92,0.3);
  box-shadow:6px 0 24px rgba(18,34,30,0.4);
}
.sidebar{position:sticky;top:0;align-self:flex-start;min-height:100vh}
.dark .sidebar{background:linear-gradient(180deg,#0a1916 0%,#10231f 100%);color:var(--ink)}
.brand{font-weight:800;font-size:1.2rem;margin-bottom:4px;letter-spacing:0.14em;text-transform:uppercase}
.sidebar .subtitle{font-size:0.8rem;color:rgba(247,239,227,0.6);margin-top:-6px;margin-bottom:12px;text-transform:uppercase;letter-spacing:0.18em}
.user-chip{display:flex;align-items:center;gap:10px;background:rgba(255,255,255,0.08);padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,0.08);cursor:pointer;transition:transform .15s ease, box-shadow .15s ease}
.user-chip:hover{transform:translateY(-2px);box-shadow:0 10px 22px rgba(0,0,0,0.2)}
.user-chip .avatar{width:32px;height:32px;border-radius:8px;background:linear-gradient(135deg,#1f6f5c,#164d41);display:inline-flex;align-items:center;justify-content:center;font-weight:700;color:#fff;letter-spacing:0.5px}
.user-chip .avatar.has-photo{color:transparent}
.sidebar nav{display:flex;flex-direction:column;gap:6px;margin-top:6px}
.sidebar a{position:relative;overflow:hidden;color:rgba(255,255,255,0.9);text-decoration:none;padding:10px 12px;border-radius:10px;display:flex;align-items:center;gap:10px;font-weight:600;font-size:var(--text-sm);border:1px solid transparent;transition:all .2s}
.sidebar a[data-role]{display:none}
.sidebar a.always-visible{display:block}
.sidebar a.active{background:linear-gradient(90deg,rgba(31,111,92,0.26),rgba(19,42,36,0.2));border-color:rgba(31,111,92,0.5);color:#fff}
.sidebar a.active::before{
  content:"";
  position:absolute;
  left:0;
  top:6px;
  bottom:6px;
  width:4px;
  border-radius:999px;
  background:linear-gradient(180deg,#1f6f5c,#164d41);
  box-shadow:0 0 12px rgba(31,111,92,0.5);
}
.sidebar a:hover{background:rgba(255,255,255,0.1);border-color:rgba(255,255,255,0.16)}
.collapse{display:none}
.main{
  flex:1;
  padding:20px;
  background-color:var(--bg);
  background-image:none;
}
.dark .main{background:#0f1916;color:var(--ink);background-image:none}
.topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding:14px 16px;border-radius:14px;background:linear-gradient(120deg,#102922,#1f6f5c);color:#fff;box-shadow:0 12px 30px rgba(18,34,30,0.35);border:1px solid rgba(31,111,92,0.3)}
.topbar h1{margin:0;font-size:1.3rem;letter-spacing:0.16em;text-transform:uppercase}
.topbar-right{display:flex;align-items:center;gap:12px}
.topbar .muted{background:rgba(31,111,92,0.2)!important;color:#fff;border:1px solid rgba(31,111,92,0.5)!important;padding:8px 14px;border-radius:10px;font-weight:700;box-shadow:0 6px 18px rgba(0,0,0,0.18);text-transform:uppercase;letter-spacing:0.12em;font-size:0.75rem}
.widgets{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:16px;margin-bottom:24px}
.card{margin-bottom:16px}
.card:last-of-type{margin-bottom:0}
.card{background:var(--card);padding:16px;border-radius:16px;box-shadow:0 12px 28px rgba(24,36,32,0.16);border:1px solid var(--line);transition:transform .15s ease, box-shadow .15s ease}
.card:hover{transform:translateY(-2px);box-shadow:0 16px 32px rgba(24,36,32,0.2)}
.dark .card{background:#16221f;box-shadow:0 8px 30px rgba(0,0,0,0.45);border:1px solid #22312d}
.card h3{margin:0;color:var(--muted);font-size:0.8rem;letter-spacing:0.16em;text-transform:uppercase}
.dark .card h3{color:var(--muted)}
.value{font-size:1.8rem;font-weight:800;margin-top:8px;color:var(--accent);letter-spacing:0.12em;text-transform:uppercase}
.dark .value{color:#7ce1c4}
.panel{display:grid;grid-template-columns:2fr 1fr;gap:12px;margin-bottom:16px}
.panel:last-of-type{margin-bottom:0}
.quick-actions .card-header{margin-bottom:10px}
.quick-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
.action-tile{display:block;padding:14px;border-radius:16px;border:1px solid var(--line);background:linear-gradient(135deg,rgba(31,111,92,0.12),rgba(19,42,36,0.08));text-decoration:none;color:inherit;box-shadow:0 10px 26px rgba(24,36,32,0.14);transition:transform .15s ease, box-shadow .15s ease}
.action-tile:hover{transform:translateY(-2px);box-shadow:0 14px 32px rgba(24,36,32,0.18)}
.tile-title{font-weight:800;font-size:1rem;color:var(--accent-strong);text-transform:uppercase;letter-spacing:0.08em}
.tile-sub{color:var(--muted);font-size:0.9rem}
.quick-actions.compact .quick-grid{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:10px}
.quick-actions.compact .action-tile{padding:10px;border-radius:14px;box-shadow:0 8px 18px rgba(24,36,32,0.12)}
.quick-actions.compact .tile-title{font-size:0.85rem;letter-spacing:0.06em}
.quick-actions.compact .tile-sub{font-size:0.8rem}
.quick-actions.sticky{position:sticky;top:88px;z-index:20;background:var(--card)}
.dark .quick-actions.sticky{background:#16221f}
body[data-page="employee-dashboard"] .employee-actions{
  display:flex;
  flex-direction:column;
  gap:14px;
  width:100%;
}
body[data-page="employee-dashboard"] .employee-action{
  display:flex;
  align-items:center;
  justify-content:space-between;
  min-height:84px;
  width:100%;
  border-radius:var(--radius-lg);
  background:linear-gradient(135deg,#132a24,#1f6f5c);
  color:#fff;
  font-weight:800;
  font-size:1.05rem;
  text-decoration:none;
  letter-spacing:0.04em;
  text-transform:uppercase;
  box-shadow:0 16px 34px rgba(24,36,32,0.22);
  transition:transform .15s ease, box-shadow .15s ease;
  padding:0 20px;
}
body[data-page="employee-dashboard"] .employee-action::before{
  content:attr(data-icon);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:48px;
  height:48px;
  border-radius:16px;
  background:rgba(255,255,255,0.14);
  border:1px solid rgba(255,255,255,0.22);
  font-size:1.15rem;
}
body[data-page="employee-dashboard"] .employee-action::after{
  content:"â†’";
  font-size:1.1rem;
  opacity:0.7;
}
body[data-page="employee-dashboard"] .employee-action:nth-child(2){
  background:linear-gradient(135deg,#145a4c,#2b8a71);
}
body[data-page="employee-dashboard"] .employee-action:nth-child(3){
  background:linear-gradient(135deg,#0f3f36,#1f6f5c);
}
body[data-page="employee-dashboard"] .employee-action:hover{
  transform:translateY(-2px);
  box-shadow:0 18px 38px rgba(24,36,32,0.28);
}

body[data-page="inventory-operations"] .ops-hero{
  display:grid;
  grid-template-columns:1.6fr 1fr;
  gap:12px;
  margin-bottom:16px;
}
body[data-page="inventory-operations"] .ops-hero .card{margin:0;}
body[data-page="inventory-operations"] .ops-metrics{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:10px;
}
body[data-page="inventory-operations"] .ops-metric{
  padding:12px;
  border-radius:var(--radius-md);
  border:1px solid var(--line);
  background:var(--surface-2);
  box-shadow:0 8px 20px rgba(24,36,32,0.08);
}
body[data-page="inventory-operations"] .ops-metric .label{
  color:var(--muted);
  font-size:var(--text-xs);
  font-weight:700;
  letter-spacing:0.12em;
  text-transform:uppercase;
}
body[data-page="inventory-operations"] .ops-metric .value{
  font-size:var(--text-lg);
  font-weight:800;
  color:var(--accent);
  margin-top:4px;
}
body[data-page="inventory-operations"] .ops-list{
  margin:0;
  padding-left:18px;
  color:var(--muted);
  font-size:var(--text-sm);
  line-height:1.5;
}
body[data-page="inventory-operations"] .ops-list li{margin-bottom:6px;}
@media(max-width:900px){
  body[data-page="inventory-operations"] .ops-hero{grid-template-columns:1fr}
}
.shift-strip{display:flex;align-items:stretch;justify-content:space-between;gap:12px;background:var(--card);border:1px solid var(--line);border-radius:16px;padding:12px 14px;margin-bottom:12px;box-shadow:0 10px 26px rgba(24,36,32,0.12)}
.shift-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:10px;flex:1}
.shift-item{display:flex;flex-direction:column;gap:4px;background:var(--surface-2);padding:10px 12px;border-radius:12px;border:1px solid var(--line)}
.shift-item span{font-size:0.75rem;color:var(--muted);text-transform:uppercase;letter-spacing:0.12em}
.shift-item strong{font-size:1.1rem;font-weight:800;color:var(--accent-strong)}
.shift-sync{display:flex;flex-direction:column;justify-content:center;align-items:flex-end;min-width:140px;gap:4px}
.shift-sync span{font-size:0.7rem;color:var(--muted);text-transform:uppercase;letter-spacing:0.12em}
.shift-sync strong{font-weight:800}
.exception-strip{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-bottom:12px}
.exception-card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:12px 14px;box-shadow:0 8px 20px rgba(24,36,32,0.12);display:flex;flex-direction:column;gap:6px}
.exception-head{display:flex;align-items:center;justify-content:space-between;gap:8px;color:var(--muted);font-size:0.75rem;text-transform:uppercase;letter-spacing:0.12em}
.exception-card strong{font-size:1.4rem;font-weight:800;color:var(--accent-strong)}
.kpi-chip{display:inline-flex;align-items:center;justify-content:center;padding:2px 8px;border-radius:999px;font-size:0.7rem;font-weight:800;text-transform:uppercase;letter-spacing:0.08em;border:1px solid transparent}
.kpi-chip.ok{background:rgba(22,163,74,0.14);color:#15803d;border-color:rgba(22,163,74,0.3)}
.kpi-chip.warn{background:rgba(245,158,11,0.18);color:#b45309;border-color:rgba(245,158,11,0.35)}
.kpi-chip.critical{background:rgba(239,68,68,0.18);color:#b91c1c;border-color:rgba(239,68,68,0.35)}
.kpi-link{font-size:0.75rem;color:var(--accent);font-weight:700;text-decoration:none}
.summary-item.has-chip{display:flex;flex-direction:column;gap:6px}
.summary-meta{display:flex;align-items:center;gap:10px}
.worklist-grid{align-items:stretch}
.worklist-card .card-header{display:flex;align-items:center;justify-content:space-between;gap:10px}
.worklist-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}
.worklist-list li{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:8px 10px;border-radius:10px;border:1px solid var(--line);background:var(--surface-2);font-size:0.85rem}
.worklist-list li span{color:var(--muted)}
.worklist-main{display:flex;flex-direction:column;gap:2px}
.worklist-sub{font-size:0.72rem;color:var(--muted)}
.worklist-right{display:flex;align-items:center;gap:8px}
.kpi-tabs{display:flex;gap:10px;margin:10px 0 14px}
.kpi-tab{background:var(--surface-2);border:1px solid var(--line);color:var(--ink);padding:10px 14px;border-radius:12px;font-weight:800;text-transform:uppercase;letter-spacing:0.08em;font-size:0.75rem;cursor:pointer}
.kpi-tab.active{background:linear-gradient(135deg,#1f6f5c,#132a24);color:#fff;border-color:rgba(255,255,255,0.2)}
.kpi-panel{display:none}
.kpi-panel.active{display:block}
.card-head{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:6px}
.collapse-toggle{background:transparent;border:1px solid var(--line);color:var(--muted);font-size:0.7rem;text-transform:uppercase;letter-spacing:0.1em;padding:4px 8px;border-radius:999px;cursor:pointer}
.card.collapsible.collapsed .summary-grid{display:none}
.card.collapsible.collapsed .collapse-toggle{color:var(--accent)}
.dark .tile-title{color:var(--ink)}
.dark .action-tile{border-color:#22312d;background:linear-gradient(135deg,rgba(31,111,92,0.22),rgba(9,20,17,0.3));color:var(--ink)}
.table-card table{font-size:0.9rem}
.table-card td,.table-card th{padding:8px}
.chart-card,.table-card{background:var(--card);padding:14px;border-radius:10px;border:1px solid var(--line);box-shadow:0 6px 24px rgba(24,36,32,0.08)}
.dark .chart-card,.dark .table-card{background:#16221f;border-color:#22312d;color:var(--ink)}
 .mobile-only{display:none}
table{width:100%;border-collapse:collapse}
thead th{text-align:left;padding:8px;color:var(--muted);font-size:var(--text-xs);letter-spacing:0.08em;text-transform:uppercase}
tbody td{padding:10px;border-top:1px solid var(--line);font-size:var(--text-sm)}
.mobile-quickbar{display:none}
.role-select{
  padding:6px 8px;
  border-radius:8px;
  border:1px solid var(--line);
  background:var(--surface-2);
  font-weight:600;
  color:var(--ink);
}
.dark .role-select{
  background:#16221f;
  border-color:#22312d;
  color:var(--ink);
}
.clock{font-size:0.9rem;color:var(--muted)}
.clock-pill{display:inline-flex;align-items:center;gap:6px;background:rgba(31,111,92,0.14);border:1px solid rgba(31,111,92,0.35);padding:6px 10px;border-radius:10px;box-shadow:0 6px 16px rgba(0,0,0,0.12)}
.clock-label{color:#e4f4ed;font-size:11px;font-weight:700;letter-spacing:0.5px;text-transform:uppercase}
.clock-value{color:#fff;font-weight:800;font-size:14px}
.corner-clock{position:fixed;top:16px;right:16px;z-index:200}
.dark thead th{color:var(--muted)}
.dark tbody td{color:var(--ink);border-top:1px solid #22312d}
.sync-chip{margin-top:10px;display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:var(--surface-2);font-size:0.75rem;font-weight:700;color:var(--muted)}
.sync-chip::before{content:"";width:8px;height:8px;border-radius:999px;background:#16a34a;box-shadow:0 0 0 3px rgba(22,163,74,0.12)}
.sync-chip.offline::before{background:#f59e0b;box-shadow:0 0 0 3px rgba(245,158,11,0.18)}
.dark .sync-chip{background:#16221f;border-color:#22312d;color:var(--muted)}

/* Mobile-friendly nav + layout */
.mobile-nav{display:none}
.bottom-nav{position:fixed;bottom:0;left:0;right:0;background:rgba(19,32,28,0.96);backdrop-filter:blur(10px);color:#fff;z-index:60;border-top:1px solid rgba(255,255,255,0.12);box-shadow:0 -10px 30px rgba(0,0,0,0.35);display:none;padding:6px 10px calc(6px + env(safe-area-inset-bottom));border-radius:18px 18px 0 0}
.bottom-nav .nav-main{display:flex;gap:12px;align-items:center;justify-content:space-between}
.bottom-nav .nav-main-btn{flex:1 1 0;text-align:center;background:rgba(255,255,255,0.08);color:#fff;font-weight:800;padding:14px 10px;border-radius:14px;border:1px solid rgba(255,255,255,0.2);text-transform:uppercase;letter-spacing:0.12em;font-size:0.75rem;cursor:pointer;transition:transform .15s ease, box-shadow .15s ease}
.bottom-nav .nav-main-btn:hover{transform:translateY(-1px);box-shadow:0 10px 22px rgba(0,0,0,0.25)}
.bottom-nav .nav-main-btn.active{background:linear-gradient(135deg,#1f6f5c,#132a24);border-color:rgba(255,255,255,0.3)}
.bottom-nav .nav-more{background:linear-gradient(135deg,#1f6f5c,#164d41);border:none}
.bottom-nav .nav-items{display:flex;gap:10px;align-items:center;overflow-x:auto;padding:10px 6px;background:transparent;max-height:0;opacity:0;transform:translateY(8px);pointer-events:none;transition:max-height .25s ease, opacity .2s ease, transform .2s ease}
.bottom-nav.expanded{position:fixed;inset:0;border-radius:0;padding:16px;display:flex;flex-direction:column;gap:14px}
.bottom-nav.expanded .nav-main{position:sticky;top:0;z-index:1;background:rgba(19,32,28,0.96);padding:6px;border-radius:16px}
.bottom-nav.expanded .nav-items{max-height:calc(100vh - 140px);opacity:1;transform:translateY(0);pointer-events:auto;overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;align-items:stretch;gap:12px;padding:8px 2px}
.bottom-nav .nav-items a{color:rgba(255,255,255,0.95);text-decoration:none;font-size:1.05rem;padding:16px 18px;border-radius:16px;border:1px solid rgba(255,255,255,0.14);white-space:nowrap;display:inline-flex;align-items:center;gap:10px;background:rgba(255,255,255,0.07);box-shadow:0 10px 22px rgba(0,0,0,0.25)}
.bottom-nav .nav-items a[data-role]{display:none}
.bottom-nav .nav-items a:not([data-role]){display:inline-flex}
.bottom-nav .nav-items a.active{background:linear-gradient(135deg,#1f6f5c,#132a24);border-color:rgba(255,255,255,0.2);box-shadow:0 12px 24px rgba(0,0,0,0.35)}
.bottom-nav-backdrop{position:fixed;inset:0;background:rgba(6,18,29,0.42);backdrop-filter:blur(2px);opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:55}
.bottom-nav-backdrop.active{opacity:1;pointer-events:auto}
.sticky-actions{position:sticky;bottom:20px;background:var(--card);padding:8px 0;z-index:10}
.dark .sticky-actions{background:#16221f}

@media(max-width:900px){
  .panel{grid-template-columns:1fr}
}
@media(max-width:800px){
  html{font-size:90%}
  .app{flex-direction:column}
  .sidebar{display:none}
  .main{padding:12px;padding-bottom:100px}
  .topbar{flex-direction:column;align-items:flex-start;gap:10px}
  .topbar-right{width:100%;justify-content:space-between;flex-wrap:wrap}
  .topbar-right .search-trigger{display:none}
  .global-search-row{display:flex}
  .bottom-nav{display:block!important}
  .widgets{grid-template-columns:1fr}
  .mobile-hide{display:none}
  .mobile-only{display:table-cell}
  #invTable thead{display:none}
  #invTable tbody tr{display:block;margin-bottom:12px}
  #invTable tbody td{display:none;border-top:none}
  #invTable tbody td.mobile-only{display:block;padding:12px}
  .sync-chip{margin-left:auto;margin-top:8px}
  .quick-actions.sticky{top:68px}
  .shift-strip{flex-direction:column;align-items:flex-start}
  .shift-sync{align-items:flex-start}
  .exception-strip{grid-template-columns:1fr}
  .worklist-list li{padding:6px 8px}
  .density-compact .card{padding:12px}
  .density-compact .summary-item strong{font-size:1rem}
  .density-compact .summary-item span{font-size:0.7rem}
  .density-compact .table-card td,.density-compact .table-card th{padding:6px;font-size:0.8rem}
  body[data-page="ops-dashboard"] .quick-actions.sticky{display:none}
  body[data-page="ops-dashboard"] .shift-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
  body[data-page="ops-dashboard"] .shift-item{padding:8px 10px}
  body[data-page="ops-dashboard"] .shift-item strong{font-size:1rem}
  body[data-page="ops-dashboard"] .shift-sync{
    width:100%;
    align-items:flex-start;
    border-top:1px dashed var(--line);
    padding-top:8px;
  }
  body[data-page="ops-dashboard"] .exception-card{padding:10px 12px}
  body[data-page="ops-dashboard"] .summary-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
  body[data-page="ops-dashboard"] .kpi-tabs{overflow-x:auto;flex-wrap:nowrap;scrollbar-width:none}
  body[data-page="ops-dashboard"] .kpi-tabs::-webkit-scrollbar{display:none}
  body[data-page="ops-dashboard"] .kpi-tab{flex:0 0 auto}
  body[data-page="ops-dashboard"] .worklist-list li{flex-direction:column;align-items:flex-start}
  body[data-page="ops-dashboard"] .worklist-right{width:100%;justify-content:space-between}
  body[data-page="ops-dashboard"] .mobile-quickbar{display:flex;gap:8px;position:fixed;left:12px;right:12px;bottom:88px;padding:10px;border-radius:16px;background:rgba(15,25,22,0.94);border:1px solid rgba(255,255,255,0.12);box-shadow:0 12px 30px rgba(0,0,0,0.35);z-index:75}
  body[data-page="ops-dashboard"] .mobile-quickbar button,
  body[data-page="ops-dashboard"] .mobile-quickbar a{flex:1;display:flex;align-items:center;justify-content:center;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,0.2);background:rgba(255,255,255,0.08);color:#f6fbf8;font-weight:700;text-decoration:none}
  body[data-page="ops-dashboard"] .mobile-quickbar button.active{background:linear-gradient(135deg,#1f6f5c,#132a24);border-color:rgba(255,255,255,0.3)}
  .dark body[data-page="ops-dashboard"] .mobile-quickbar{background:rgba(9,15,13,0.96)}
}

/* Inventory page tweaks */
.inventory-card{margin-bottom:12px}
.inventory-form{display:flex;flex-direction:column;gap:12px}
.inventory-toolbar{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin:8px 0 12px 0}
.inventory-toolbar input{max-width:260px}
.inventory-toolbar .muted{white-space:nowrap;background:var(--surface-2);color:var(--ink);border:1px solid var(--line);padding:8px 12px;border-radius:10px;font-weight:700;text-decoration:none;text-transform:uppercase;letter-spacing:0.08em;font-size:0.75rem}
.dark .inventory-toolbar .muted{background:#16221f;color:var(--ink);border:1px solid #22312d}
.filter-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:var(--surface-2);font-size:0.8rem;font-weight:700;color:var(--ink)}
.filter-chip input{margin:0}
.dark .filter-chip{background:#101b18;color:var(--ink);border-color:#22312d}
.scan-toggle{background:rgba(31,111,92,0.08);border-color:rgba(31,111,92,0.3)}
.sticky-bar{position:sticky;top:0;background:var(--card);padding:10px;border-radius:12px;z-index:6;box-shadow:0 10px 24px rgba(15,27,43,0.08)}
.dark .sticky-bar{background:#16221f}
.count-input-col{display:none}
body.count-mode .count-input-col{display:table-cell}
.count-input{width:100%;max-width:120px;padding:6px;border-radius:8px;border:1px solid var(--line)}
.row-detail{background:var(--surface-2)}
.row-detail td{border-top:none;padding:12px}
.row-detail .detail-grid{display:flex;flex-wrap:wrap;gap:8px}
.row-detail .detail-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#ffffff;font-size:0.8rem;font-weight:700;color:var(--ink)}
.row-detail .detail-chip strong{color:var(--muted);font-weight:700}
.dark .row-detail{background:#16221f}
.dark .row-detail .detail-chip{background:#101b18;border-color:#22312d;color:var(--ink)}
.action-btn{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:8px;border:1px solid var(--line);background:var(--surface-2);color:var(--ink);font-weight:700;text-decoration:none;margin-right:6px}
.dark .action-btn{background:#16221f;color:var(--ink);border:1px solid #22312d}
.timer-box{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:4px;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--line);
  background:var(--surface-2);
  font-weight:700;
}
.timer-box span{
  font-size:0.7rem;
  letter-spacing:0.14em;
  text-transform:uppercase;
  color:var(--muted);
}
.dark .timer-box{background:#16221f;border-color:#22312d;color:var(--ink)}
.job-breakdown{display:flex;flex-direction:column;gap:6px}
.job-row{display:flex;justify-content:space-between;align-items:center;padding:6px 10px;border-radius:8px;border:1px solid var(--line);background:#ffffff;font-size:0.85rem;font-weight:700;color:var(--ink)}
.job-empty{color:var(--muted);font-size:0.85rem}
.dark .job-row{background:#101b18;border-color:#22312d;color:var(--ink)}
body.panel-open{overflow:hidden}
.side-panel-backdrop{position:fixed;inset:0;background:rgba(6,18,29,0.45);opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:70}
.side-panel-backdrop.active{opacity:1;pointer-events:auto}
.side-panel{position:fixed;top:0;right:0;height:100vh;width:min(420px,92vw);background:var(--card);border-left:1px solid var(--line);box-shadow:-20px 0 50px rgba(0,0,0,0.2);transform:translateX(100%);transition:transform .25s ease;z-index:80;display:flex;flex-direction:column}
.side-panel.open{transform:translateX(0)}
.dark .side-panel{background:#16221f;border-color:#22312d;color:var(--ink)}
.side-panel-header{display:flex;align-items:flex-start;justify-content:space-between;gap:16px;padding:20px;border-bottom:1px solid var(--line);background:var(--card);position:sticky;top:0;z-index:1;flex-wrap:wrap}
.dark .side-panel-header{background:#16221f;border-color:#22312d}
.drawer-head{flex:1 1 100%;min-width:0}
.drawer-title-row{display:flex;align-items:flex-start;gap:12px;flex-wrap:wrap;margin-top:6px}
.drawer-title-row h2{margin:0;word-break:break-word}
.drawer-tags{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.pill{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;font-weight:800;font-size:0.85rem;border:1px solid var(--line);background:var(--surface-2);color:var(--ink)}
.pill-tonal{background:rgba(31,111,92,0.1);border-color:rgba(31,111,92,0.35);color:#0f2f26}
.dark .pill{background:#101b18;border-color:#22312d;color:var(--ink)}
.dark .pill-tonal{background:rgba(31,111,92,0.18);border-color:rgba(31,111,92,0.4);color:#e7f6f1}
.status-chip{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:var(--surface-2);font-weight:800;font-size:0.85rem;color:var(--ink)}
.status-chip .dot{width:10px;height:10px;border-radius:50%;background:#22c55e;display:inline-block}
.status-chip.warn .dot{background:#f59e0b}
.status-chip.danger .dot{background:#ef4444}
.status-chip .label{text-transform:capitalize}
.dark .status-chip{background:#101b18;border-color:#22312d;color:var(--ink)}
.drawer-actions{display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:flex-end;flex:1 1 100%}
.panel-sub{white-space:normal;line-height:1.3}
.drawer-actions .action-btn{padding:8px 10px;font-size:0.85rem;border-radius:10px;border:1px solid var(--line);background:var(--surface-2);color:var(--ink);font-weight:800}
.drawer-actions .action-btn.primary{background:linear-gradient(135deg,#1f6f5c,#164d41);color:#fff;border-color:rgba(31,111,92,0.4);box-shadow:0 8px 18px rgba(31,111,92,0.25)}
.drawer-actions .action-btn.outline{background:transparent}
.dark .drawer-actions .action-btn{background:#101b18;border-color:#22312d;color:var(--ink)}
.panel-kicker{text-transform:uppercase;letter-spacing:0.12em;font-size:0.7rem;color:var(--muted);font-weight:700}
.panel-sub{color:var(--muted);font-size:0.9rem;margin-top:4px}
.icon-btn{border:1px solid var(--line);background:var(--surface-2);color:var(--ink);width:34px;height:34px;border-radius:10px;font-size:18px;font-weight:700;cursor:pointer;display:grid;place-items:center}
.dark .icon-btn{background:#101b18;border-color:#22312d;color:var(--ink)}
.side-panel-body{padding:0 0 20px 0;overflow-y:auto;display:flex;flex-direction:column;gap:0}
.drawer-tabs{position:sticky;top:0;z-index:1;display:flex;gap:6px;padding:12px 20px;background:var(--card);border-bottom:1px solid var(--line)}
.drawer-tab{padding:8px 12px;border-radius:10px;border:1px solid var(--line);background:var(--surface-2);font-weight:800;font-size:0.9rem;cursor:pointer;color:var(--ink)}
.drawer-tab.active{background:linear-gradient(135deg,#1f6f5c,#164d41);color:#fff;border-color:rgba(31,111,92,0.35)}
.dark .drawer-tabs{background:#16221f;border-color:#22312d}
.drawer-body{padding:18px 20px;display:flex;flex-direction:column;gap:16px}
.qty-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
.qty-cell{border:1px solid var(--line);background:var(--surface-2);border-radius:10px;padding:10px;display:flex;flex-direction:column;gap:6px}
.qty-cell.zero{opacity:0.7}
.qty-cell.neg strong{color:#b91c1c}
.qty-label{display:flex;align-items:center;gap:6px;font-size:0.85rem;color:var(--muted);font-weight:700}
.help-dot{display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;border-radius:50%;border:1px solid var(--line);font-size:10px;font-weight:800;color:var(--muted);cursor:help;background:var(--surface-2)}
.reorder-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:10px}
.reorder-field{border:1px solid var(--line);border-radius:10px;padding:10px;background:var(--surface-2);display:flex;flex-direction:column;gap:6px}
.reorder-field span{font-size:0.85rem;color:var(--muted);font-weight:700}
.status-chip.success .dot{background:#22c55e}
.status-chip.success{border-color:rgba(34,197,94,0.4)}
.muted-link{color:var(--muted);font-weight:700;text-decoration:none}
.muted-link:hover{text-decoration:underline}
.panel-list.compact .panel-row{padding:6px 0}
.filters-row{display:flex;gap:8px;align-items:center;margin-bottom:8px}
.filters-row select,.filters-row input{padding:8px 10px;border:1px solid var(--line);border-radius:8px;background:var(--surface-2);color:var(--ink);flex:1}
.panel-table-wrap{overflow:auto;border:1px solid var(--line);border-radius:10px;background:var(--card)}
.drawer-table{width:100%;border-collapse:collapse;font-size:0.9rem}
.drawer-table th,.drawer-table td{padding:8px 10px;border-bottom:1px solid var(--line);text-align:left}
.drawer-table th{color:var(--muted);font-size:0.8rem;text-transform:uppercase;letter-spacing:0.08em}
.pager-row{display:flex;justify-content:flex-end;align-items:center;gap:10px;margin-top:8px}
.subhead{margin:12px 0 6px 0;font-size:0.9rem;color:var(--muted);text-transform:uppercase;letter-spacing:0.08em}
.job-link{cursor:pointer}
.panel-badges{display:flex;flex-wrap:wrap;gap:8px}
.panel-metrics{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.panel-metric{background:var(--surface-2);border:1px solid var(--line);border-radius:12px;padding:10px}
.panel-metric span{display:block;font-size:0.75rem;color:var(--muted);font-weight:700;text-transform:uppercase;letter-spacing:0.08em}
.panel-metric strong{display:block;font-size:1.1rem;margin-top:6px}
.dark .panel-metric{background:#101b18;border-color:#22312d}
.panel-list{display:flex;flex-direction:column;gap:4px}
.panel-row{display:flex;justify-content:space-between;gap:12px;padding:8px 0;border-bottom:1px dashed var(--line);font-size:0.9rem}
.panel-row span{color:var(--muted);font-weight:600}
.panel-row strong{font-weight:700;text-align:right}
.panel-section h3{margin:0 0 8px 0;font-size:0.95rem}
.panel-note{margin:0;color:var(--muted);font-size:0.9rem;line-height:1.5}
.mobile-quickbar{display:none}
.mobile-sheet-backdrop{position:fixed;inset:0;background:rgba(6,18,29,0.42);opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:85}
.mobile-sheet-backdrop.active{opacity:1;pointer-events:auto}
.mobile-sheet{position:fixed;left:0;right:0;bottom:-100%;background:var(--card);border-radius:18px 18px 0 0;border:1px solid var(--line);box-shadow:0 -20px 40px rgba(0,0,0,0.2);z-index:90;transition:transform .25s ease;transform:translateY(100%)}
.mobile-sheet.open{transform:translateY(0)}
.mobile-sheet-header{display:flex;align-items:flex-start;justify-content:space-between;padding:16px;border-bottom:1px solid var(--line)}
.mobile-sheet-header h3{margin:2px 0 0 0;font-size:1rem}
.mobile-sheet-body{padding:14px;display:flex;flex-direction:column;gap:10px}
.mobile-sheet-option{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;border:1px solid var(--line);background:var(--surface-2);font-weight:700}
.mobile-sheet-actions{display:flex;gap:10px;justify-content:flex-end;padding:12px 16px 18px;border-top:1px solid var(--line)}
.dark .mobile-sheet{background:#16221f;border-color:#22312d}
.dark .mobile-sheet-option{background:#101b18;border-color:#22312d;color:var(--ink)}
.mobile-item-card{display:flex;flex-direction:column;gap:6px}
.mobile-item-head{display:flex;align-items:center;justify-content:space-between;font-weight:700;font-size:1rem}
.mobile-item-name{color:var(--ink)}
.mobile-item-row{font-size:0.88rem;color:var(--muted);display:flex;align-items:center;gap:6px}
.mobile-item-row strong{color:var(--ink)}
.mobile-divider{opacity:0.6}
.status-dot{width:10px;height:10px;border-radius:50%;display:inline-block;background:#16a34a;box-shadow:0 0 0 3px rgba(22,163,74,0.15)}
.status-dot.status-warn{background:#f59e0b;box-shadow:0 0 0 3px rgba(245,158,11,0.18)}
.status-dot.status-out{background:#ef4444;box-shadow:0 0 0 3px rgba(239,68,68,0.18)}
.dark .mobile-item-row{color:var(--muted)}
@media(max-width:720px){
  .side-panel{width:100%}
  .side-panel{border-radius:0}
  .panel-metrics{grid-template-columns:1fr}
}
.stale{color:#b45309;font-weight:800}
.discrepancy-badge{display:inline-block;padding:4px 8px;border-radius:999px;font-size:0.75rem;font-weight:800}
.discrepancy-badge.ok{background:rgba(31,111,92,0.12);color:#1b2522;border:1px solid rgba(31,111,92,0.3)}
.dark .discrepancy-badge.ok{color:var(--ink)}
.discrepancy-badge.warn{background:rgba(234,179,8,0.16);color:#854d0e;border:1px solid rgba(234,179,8,0.4)}
.discrepancy-badge.bad{background:rgba(239,68,68,0.16);color:#7f1d1d;border:1px solid rgba(239,68,68,0.4)}
.row-highlight{outline:2px solid rgba(31,111,92,0.55);outline-offset:-2px}
.onhand-row{cursor:pointer}
.onhand-row:hover{background:var(--surface-2)}
.dark .onhand-row:hover{background:#16221f}
.form-row{display:flex;gap:10px;position:relative}
.line-items{display:flex;flex-direction:column;gap:10px;margin-bottom:8px}
.line-row{align-items:flex-end}
.order-lines-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.order-line{border:1px dashed var(--line);padding:10px;border-radius:10px;background:rgba(31,111,92,0.05)}
.order-line.has-error{border-color:rgba(239,68,68,0.6);background:rgba(239,68,68,0.06)}
.line-error{min-height:16px;font-size:0.8rem;color:#b91c1c;margin-top:4px}
.toggle-inline{display:flex;align-items:center;gap:6px;font-size:0.85rem;font-weight:700;color:#1b2522}
.toggle-inline input{width:auto}
.dark .toggle-inline{color:var(--ink)}
.summary-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px;margin:10px 0}
.summary-item{background:var(--surface-2);border:1px solid var(--line);border-radius:12px;padding:10px;display:flex;flex-direction:column;gap:4px}
.summary-item span{font-size:var(--text-xs);color:var(--muted);font-weight:700}
.summary-item strong{font-size:var(--text-lg);color:var(--ink)}
.dark .summary-item strong{color:var(--ink)}
.summary-list{margin-top:10px}
.summary-items{display:flex;flex-direction:column;gap:6px;margin-top:6px}
.summary-row{display:flex;justify-content:space-between;align-items:center;padding:6px 10px;border-radius:10px;border:1px solid var(--line);background:#ffffff;font-size:0.85rem;font-weight:700;color:var(--ink)}
.filter-chips{display:flex;gap:6px;flex-wrap:wrap}
.filter-btn{padding:6px 10px;border-radius:10px;border:1px solid var(--line);background:var(--surface-2);color:var(--ink);font-weight:700;cursor:pointer;text-transform:uppercase;letter-spacing:0.12em;font-size:0.72rem}
.filter-btn.active{background:linear-gradient(135deg,#132a24,#1f6f5c);color:#fff;border-color:rgba(31,111,92,0.45)}
.modal{position:fixed;inset:0;background:rgba(3,7,18,0.55);display:flex;align-items:center;justify-content:center;z-index:100}
.modal.hidden{display:none}
.modal-content{background:var(--card);color:inherit;border-radius:14px;padding:16px;width:min(900px,94vw);max-height:80vh;overflow:auto;box-shadow:0 20px 50px rgba(0,0,0,0.4);border:1px solid var(--line)}
.dark .modal-content{background:#16221f;border-color:#22312d;color:var(--ink)}
.modal-header{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;margin-bottom:10px}
.modal-title{margin:4px 0 0 0;font-size:1.1rem}
.modal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
.modal .muted{background:var(--surface-2);color:var(--ink);border:1px solid var(--line);padding:8px 12px;border-radius:8px;font-weight:700}
.dark .modal .muted{background:#16221f;color:var(--ink);border:1px solid #22312d}
.confirm-summary{margin:12px 0;font-weight:700;color:var(--ink)}
.confirm-summary span{color:var(--muted);font-weight:600}
.confirm-table{width:100%;border-collapse:collapse}
.confirm-table th{color:var(--muted);font-size:0.85rem;text-align:left;padding:8px 6px}
.confirm-table td{padding:10px 6px;border-top:1px solid var(--line)}
.dark .confirm-summary{color:var(--ink)}
.dark .confirm-table td{border-top:1px solid #22312d}
.available-pill{display:inline-flex;align-items:center;justify-content:center;padding:6px 10px;border-radius:8px;border:1px solid var(--line);background:#ffffff;font-weight:700;font-size:0.85rem}
.dark .order-line{background:rgba(31,111,92,0.16);border-color:#22312d}
.dark .summary-item{background:#16221f;border-color:#22312d;color:var(--ink)}
.dark .summary-row{background:#101b18;border-color:#22312d;color:var(--ink)}
.dark .filter-btn{background:#16221f;color:var(--ink);border-color:#22312d}
.dark .available-pill{background:#101b18;border-color:#22312d;color:var(--ink)}
.dark input,.dark select,.dark textarea{background:#16221f;color:var(--ink);border-color:#22312d}
.form-row select,
select{
  appearance:none;
  -webkit-appearance:none;
  -moz-appearance:none;
  padding:10px 38px 10px 12px;
  border-radius:var(--radius-md);
  border:1px solid var(--line);
  background:
    linear-gradient(135deg, rgba(31,111,92,0.08), rgba(19,42,36,0.06)) padding-box,
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%231b2522' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>") no-repeat right 12px center;
  font-weight:700;
  color:var(--ink);
  font-size:var(--text-base);
  min-height:var(--control-height);
  box-shadow:0 8px 18px rgba(24,36,32,0.08);
  transition:border-color .15s ease, box-shadow .15s ease, transform .15s ease;
}
.form-row select:focus,
select:focus{
  outline:none;
  border-color:rgba(31,111,92,0.6);
  box-shadow:0 0 0 3px rgba(31,111,92,0.18), 0 10px 22px rgba(24,36,32,0.12);
}
.form-row select:hover,
select:hover{
  transform:translateY(-1px);
  border-color:rgba(31,111,92,0.4);
}
.form-row select:disabled,
select:disabled{
  opacity:0.6;
  cursor:not-allowed;
  box-shadow:none;
}
.dark .form-row select,
.dark select{
  background:
    linear-gradient(135deg, rgba(31,111,92,0.22), rgba(9,20,17,0.35)) padding-box,
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%23f6fbf8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>") no-repeat right 12px center;
  border-color:#22312d;
  color:var(--ink);
}
.report-detail td{background:var(--surface-2)}
.report-detail .detail-table{width:100%;border-collapse:collapse;font-size:0.85rem}
.report-detail .detail-table th{padding:6px;text-align:left;color:var(--muted);font-size:0.8rem}
.report-detail .detail-table td{padding:6px;border-top:1px solid var(--line)}
.dark .report-detail td{background:#16221f}
.dark .report-detail .detail-table td{border-top:1px solid #22312d}
.compact .card{padding:10px}
.compact .form-row{gap:6px}
.compact .line-items{gap:6px}
.suggestions{position:absolute;top:100%;left:0;background:#fff;border:1px solid #e1d5c7;border-radius:6px;max-height:200px;overflow-y:auto;z-index:10;width:100%;min-width:200px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
.with-suggest{position:relative;display:block}
.form-row label{display:flex;flex-direction:column;flex:1;gap:6px}
.form-row input,.form-row textarea,.form-row select{
  padding:var(--control-padding);
  border-radius:var(--radius-md);
  border:1px solid var(--line);
  font-size:var(--text-base);
  min-height:var(--control-height);
}
.eta-input{padding-right:40px}
.eta-input::-webkit-calendar-picker-indicator{cursor:pointer;padding:6px;border-radius:8px;background-color:rgba(31,111,92,0.16)}
.dark .eta-input::-webkit-calendar-picker-indicator{background-color:rgba(31,111,92,0.32)}
.inventory-form button{padding:10px 12px;border-radius:var(--radius-md);border:none;background:linear-gradient(135deg,#1f6f5c,#164d41);color:#fff;font-weight:800;box-shadow:0 8px 16px rgba(31,111,92,0.3);text-transform:uppercase;letter-spacing:0.1em;font-size:var(--text-sm)}
.inventory-form button.muted{background:var(--surface-2);color:var(--ink);border:1px solid var(--line)}
.dark .inventory-form button.muted{background:#16221f;color:var(--ink);border:1px solid #22312d}
@media(max-width:680px){.form-row{flex-direction:column}}
@media(max-width:680px){
  .line-items{gap:12px}
  .line-row{border:1px solid var(--line);padding:12px;border-radius:12px;background:rgba(15,122,87,0.06)}
  .dark .line-row{background:#16221f;border-color:#22312d}
  .line-row label{width:100%}
  .line-row .remove-line{width:100%}
  .line-row button{width:100%}
  .line-row input,.line-row select,.line-row textarea{font-size:16px}
}

.tab-btn{background:var(--surface-2);border:1px solid var(--line);color:var(--ink);font-weight:700;text-transform:uppercase;letter-spacing:0.1em;font-size:var(--text-xs)}
.tab-btn.active{background:linear-gradient(135deg,#132a24,#1f6f5c);color:#fff;border-color:rgba(31,111,92,0.45);box-shadow:0 10px 24px rgba(24,36,32,0.2)}
.mode-tabs{display:flex;gap:8px;margin:0 0 6px 0}
.inventory-tabs{flex-wrap:wrap}
.mode-btn{flex:1;padding:10px 12px;border-radius:12px;border:1px solid var(--line);background:var(--card);color:var(--ink);font-weight:800;cursor:pointer;box-shadow:0 6px 16px rgba(24,36,32,0.08);transition:all .15s ease;text-transform:uppercase;letter-spacing:0.12em;font-size:0.78rem}
.mode-btn.active{background:linear-gradient(135deg,#132a24,#1f6f5c);color:#fff;border-color:rgba(31,111,92,0.45);box-shadow:0 10px 24px rgba(24,36,32,0.22)}
.mode-btn:disabled{opacity:0.5;cursor:not-allowed;box-shadow:none}
.mode-content{display:none}
.mode-content.active{display:block}
:is(button,.mode-btn,.tab-btn,.filter-btn,.action-btn,.settings-action,.nav-toggle,.bottom-nav a,.sidebar a,.user-chip):focus-visible{
  outline:3px solid rgba(31,111,92,0.35);
  outline-offset:2px;
}
.dark :is(button,.mode-btn,.tab-btn,.filter-btn,.action-btn,.settings-action,.nav-toggle,.bottom-nav a,.sidebar a,.user-chip):focus-visible{
  outline-color:rgba(124,225,196,0.6);
}
@media(max-width:720px){
  .mode-tabs{flex-wrap:wrap}
  .mode-btn{flex:1 1 120px;white-space:nowrap;padding:6px 8px;font-size:0.7rem;letter-spacing:0.08em}
  table{display:block;max-width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}
  th,td{white-space:nowrap}
}
.report-cards{display:flex;flex-direction:column;gap:12px;margin-top:8px}
.report-card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px;box-shadow:0 10px 24px rgba(24,36,32,0.1)}
.dark .report-card{background:#16221f;border-color:#22312d;color:var(--ink)}
.report-card-header{display:flex;justify-content:space-between;gap:12px;align-items:flex-start}
.report-card-title{font-weight:800;font-size:1rem}
.report-card-sub{color:var(--muted);font-size:0.85rem;margin-top:2px}
.report-card-controls{display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:flex-end}
.report-card-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:8px;margin-top:10px}
.report-chip{background:rgba(31,111,92,0.08);border:1px solid rgba(31,111,92,0.2);border-radius:10px;padding:8px 10px;display:flex;flex-direction:column;gap:4px}
.dark .report-chip{background:#101b18;border-color:#22312d;color:var(--ink)}
.report-chip span{font-size:0.75rem;color:var(--muted);font-weight:700;letter-spacing:0.2px;text-transform:uppercase}
.report-chip strong{font-size:0.95rem;color:inherit}
.report-metrics{display:flex;gap:12px;margin-top:12px;flex-wrap:wrap}
.report-metric{flex:1 1 140px;background:var(--surface-2);border:1px solid var(--line);border-radius:12px;padding:10px}
.report-metric span{font-size:0.75rem;color:#64748b;font-weight:700;text-transform:uppercase;letter-spacing:0.2px}
.report-metric strong{display:block;font-size:1.1rem;margin-top:4px;color:#1f6f5c}
.dark .report-metric span{color:var(--muted)}
.dark .report-metric strong{color:#7ce1c4}
.report-notes{margin-top:12px;border-top:1px dashed var(--line);padding-top:10px;font-size:0.9rem;color:var(--muted)}
.report-card-actions{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
.report-detail{margin-top:10px}
.report-empty{padding:16px;border:1px dashed var(--line);border-radius:12px;color:var(--muted);text-align:center;background:rgba(31,111,92,0.05)}
.dark .report-empty{background:#101b18;border-color:#22312d;color:var(--muted)}
.dark .report-metric{background:#16221f;border-color:#22312d}
.page-grid{display:grid;grid-template-columns:2fr 1.3fr;gap:14px;align-items:start}
@media(max-width:960px){
  .page-grid{grid-template-columns:1fr}
}
.muted-text{color:var(--muted);font-size:0.9rem;margin:0 0 8px 0}
.dark [style*="color:#6b7280"],
.dark [style*="color: #6b7280"]{color:var(--muted)!important}
.data-toolbar{display:flex;align-items:center;gap:10px;margin:8px 0}
.data-toolbar input{max-width:200px}
.badge{display:inline-block;padding:4px 8px;border-radius:999px;font-size:0.75rem;font-weight:700;line-height:1;border:1px solid var(--line);color:var(--ink);background:var(--card)}
.tag-list{display:flex;flex-wrap:wrap;gap:6px}
.tag-list .badge{font-size:0.7rem;padding:4px 8px}
.badge.static{background:rgba(148,163,184,0.18);color:#334155;border-color:rgba(148,163,184,0.45)}
.badge.info{background:rgba(31,111,92,0.12);color:#1b2522;border-color:rgba(31,111,92,0.3)}
.dark .badge{background:#101b18;color:var(--ink);border-color:#22312d}
.dark .badge.static{background:rgba(148,163,184,0.22);color:#e2e8f0;border-color:rgba(148,163,184,0.35)}
.dark .badge.info{background:rgba(31,111,92,0.22);color:var(--ink);border-color:rgba(31,111,92,0.4)}
.badge.warn{background:rgba(234,179,8,0.14);color:#854d0e;border-color:rgba(234,179,8,0.4)}
.badge.danger{background:rgba(239,68,68,0.14);color:#7f1d1d;border-color:rgba(239,68,68,0.4)}
.status-pill{display:inline-flex;align-items:center;justify-content:center;padding:4px 10px;border-radius:999px;font-size:0.75rem;font-weight:800;line-height:1;border:1px solid transparent;text-transform:capitalize}
.status-pill.active{background:rgba(31,111,92,0.12);color:#1b2522;border-color:rgba(31,111,92,0.3)}
.status-pill.trial{background:rgba(59,130,246,0.12);color:#1e3a8a;border-color:rgba(59,130,246,0.3)}
.status-pill.past_due{background:rgba(239,68,68,0.16);color:#7f1d1d;border-color:rgba(239,68,68,0.4)}
.status-pill.cancelled{background:rgba(148,163,184,0.2);color:#334155;border-color:rgba(148,163,184,0.4)}
.status-pill.low{background:rgba(16,185,129,0.12);color:#065f46;border-color:rgba(16,185,129,0.3)}
.status-pill.medium{background:rgba(234,179,8,0.16);color:#854d0e;border-color:rgba(234,179,8,0.4)}
.status-pill.high{background:rgba(239,68,68,0.16);color:#7f1d1d;border-color:rgba(239,68,68,0.4)}
.status-pill.open{background:rgba(59,130,246,0.12);color:#1e3a8a;border-color:rgba(59,130,246,0.3)}
.status-pill.pending{background:rgba(234,179,8,0.16);color:#854d0e;border-color:rgba(234,179,8,0.4)}
.status-pill.closed{background:rgba(148,163,184,0.2);color:#334155;border-color:rgba(148,163,184,0.4)}
.dark .status-pill.active{background:rgba(31,111,92,0.22);color:#ecfeff;border-color:rgba(31,111,92,0.4)}
.dark .status-pill.trial,.dark .status-pill.open{background:rgba(59,130,246,0.2);color:#dbeafe;border-color:rgba(59,130,246,0.35)}
.dark .status-pill.past_due,.dark .status-pill.high{background:rgba(239,68,68,0.2);color:#fee2e2;border-color:rgba(239,68,68,0.35)}
.dark .status-pill.cancelled,.dark .status-pill.closed{background:rgba(148,163,184,0.25);color:#d7e0da;border-color:rgba(148,163,184,0.35)}
.dark .status-pill.low{background:rgba(16,185,129,0.2);color:#d1fae5;border-color:rgba(16,185,129,0.35)}
.dark .status-pill.medium,.dark .status-pill.pending{background:rgba(234,179,8,0.22);color:#fef3c7;border-color:rgba(234,179,8,0.4)}
.sticky-actions-mobile{position:sticky;bottom:0;padding:8px 0;background:var(--card);z-index:5}
.dark .sticky-actions-mobile{background:#16221f}
.bulk-box textarea{font-family:ui-monospace,SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace}

/* Role visibility helpers */
body.role-admin .sidebar a[data-role='admin']{display:flex}
body.role-employee .sidebar a[data-role='employee']{display:flex}
body.role-manager .sidebar a[data-role='manager']{display:flex}
body.role-manager .sidebar a[data-role='employee'][href='employee-dashboard.html']{display:none}
body.role-none .sidebar a[data-role]{display:none}
body.role-admin .bottom-nav .nav-items a[data-role='admin']{display:inline-flex}
body.role-employee .bottom-nav .nav-items a[data-role='employee']{display:inline-flex}
body.role-manager .bottom-nav .nav-items a[data-role='manager']{display:inline-flex}
body.role-manager .bottom-nav .nav-items a[data-role='employee'][href='employee-dashboard.html']{display:none}
body.role-none .bottom-nav .nav-items a[data-role]{display:none}
body.role-employee .admin-only{display:none}
body.role-manager .admin-only{display:none}
.settings-tabs{margin-bottom:12px;flex-wrap:wrap}
.settings-panel{display:flex;flex-direction:column;gap:12px}
.settings-msg{font-size:0.9rem;color:#6b7280;margin-top:8px}
.settings-action{padding:10px 12px;border-radius:10px;border:none;background:linear-gradient(135deg,#1f6f5c,#164d41);color:#fff;font-weight:800;box-shadow:0 8px 16px rgba(31,111,92,0.3);cursor:pointer;text-transform:uppercase;letter-spacing:0.12em;font-size:0.8rem}
.settings-action:disabled{opacity:0.6;cursor:not-allowed;box-shadow:none}
.ticket-subject{font-weight:700;color:#1b2522}
.ticket-body{color:var(--muted);font-size:0.85rem;margin-top:4px}
.dark .ticket-subject{color:var(--ink)}
.table-scroll{overflow-x:auto}

/* Pro polish (dashboard + operations) */
[data-ds="pro"]{
  --pro-bg:#f5f7f9;
  --pro-surface:#ffffff;
  --pro-surface-2:#eef2f6;
  --pro-border:#d9e0e6;
  --pro-text:#1f2933;
  --pro-muted:#55626f;
  --pro-accent:#1f6f5c;
  --pro-accent-2:#132a24;
  --pro-radius:16px;
  --pro-radius-lg:20px;
  --pro-shadow:0 14px 34px rgba(24,36,32,0.1);
  --pro-shadow-soft:0 10px 22px rgba(24,36,32,0.06);
  background:var(--pro-bg);
  color:var(--pro-text);
  background-image:
    radial-gradient(900px 500px at -10% -20%, rgba(31,111,92,0.08), transparent 60%),
    radial-gradient(900px 450px at 110% 0%, rgba(19,42,36,0.06), transparent 55%);
}
.dark [data-ds="pro"]{
  --pro-bg:#0f1916;
  --pro-surface:#16221f;
  --pro-surface-2:#111b18;
  --pro-border:#22312d;
  --pro-text:#f6fbf8;
  --pro-muted:#9aa9a3;
  --pro-accent:#4bb39a;
  --pro-accent-2:#0b2b26;
  background-image:
    radial-gradient(900px 500px at -10% -20%, rgba(79,178,151,0.2), transparent 60%),
    repeating-radial-gradient(circle at 20% 18%, rgba(79,178,151,0.14) 0 1px, transparent 1px 22px),
    radial-gradient(900px 450px at 110% 0%, rgba(9,20,17,0.45), transparent 55%);
}
[data-ds="pro"] .main{padding:24px}
[data-ds="pro"] .topbar{
  border-radius:var(--pro-radius-lg);
  background:linear-gradient(120deg,var(--pro-accent-2),var(--pro-accent));
  box-shadow:var(--pro-shadow);
}
[data-ds="pro"] .topbar h1{letter-spacing:0.4px}
[data-ds="pro"] .topbar .muted{
  background:rgba(255,255,255,0.18)!important;
  border:1px solid rgba(255,255,255,0.28)!important;
}
[data-ds="pro"] .card,
[data-ds="pro"] .chart-card,
[data-ds="pro"] .table-card{
  border-radius:var(--pro-radius);
  border:1px solid var(--pro-border);
  box-shadow:var(--pro-shadow-soft);
}
[data-ds="pro"] .card{background:var(--pro-surface)}
[data-ds="pro"] .card h3{
  text-transform:uppercase;
  letter-spacing:0.16em;
  font-size:0.78rem;
  color:var(--pro-muted);
}
[data-ds="pro"] .panel{gap:16px}
[data-ds="pro"] .action-tile{
  border-radius:18px;
  background:linear-gradient(140deg,rgba(31,111,92,0.14),rgba(19,42,36,0.1));
  border:1px solid rgba(31,111,92,0.25);
}
[data-ds="pro"] .action-tile .tile-title{color:var(--pro-accent-2)}
[data-ds="pro"] .action-tile .tile-sub{color:var(--pro-muted)}
[data-ds="pro"] .mode-tabs{
  background:var(--pro-surface-2);
  border:1px solid var(--pro-border);
  border-radius:999px;
  padding:6px;
}
[data-ds="pro"] .mode-btn{
  background:transparent;
  border-radius:999px;
  box-shadow:none;
}
[data-ds="pro"] .mode-btn.active{
  background:var(--pro-surface);
  color:var(--pro-text);
  border-color:transparent;
  box-shadow:var(--pro-shadow-soft);
}
[data-ds="pro"] table{border-collapse:separate;border-spacing:0 8px}
[data-ds="pro"] thead th{
  color:var(--pro-muted);
  font-size:0.72rem;
  letter-spacing:0.18em;
  text-transform:uppercase;
  padding:0 12px 6px;
}
[data-ds="pro"] tbody tr{
  background:var(--pro-surface);
  box-shadow:0 8px 18px rgba(12,20,33,0.08);
}
[data-ds="pro"] tbody td{
  border-top:none;
  padding:12px;
}
[data-ds="pro"] tbody tr td:first-child{border-radius:12px 0 0 12px}
[data-ds="pro"] tbody tr td:last-child{border-radius:0 12px 12px 0}
[data-ds="pro"] .ops-metric{
  background:linear-gradient(160deg,rgba(31,111,92,0.1),rgba(19,42,36,0.08));
  border:1px solid rgba(31,111,92,0.2);
}
[data-ds="pro"] .ops-metric .value{color:var(--pro-accent)}
[data-ds="pro"] .ops-list{color:var(--pro-muted)}
[data-ds="pro"] .data-toolbar input{border-radius:12px}
[data-ds="pro"] .summary-item{
  border-radius:18px;
  background:linear-gradient(160deg,#fff,#f5f7f9);
  border:1px solid var(--pro-border);
}
[data-ds="pro"] .summary-item strong{color:var(--pro-accent)}
[data-ds="pro"] :is(button,input,select,textarea):focus-visible{
  outline:3px solid rgba(31,111,92,0.35);
  outline-offset:2px;
}
[data-ds="pro"] .main > *{
  animation:pro-rise .35s ease both;
}
[data-ds="pro"] .main > *:nth-child(1){animation-delay:0.02s}
[data-ds="pro"] .main > *:nth-child(2){animation-delay:0.06s}
[data-ds="pro"] .main > *:nth-child(3){animation-delay:0.1s}
[data-ds="pro"] .main > *:nth-child(4){animation-delay:0.14s}
[data-ds="pro"] .main > *:nth-child(5){animation-delay:0.18s}
@keyframes pro-rise{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:translateY(0)}
}

/* Dashboard refinement */
[data-ds="pro"] .dashboard-grid{
  display:grid;
  grid-template-columns:repeat(3,minmax(0,1fr));
  gap:16px;
  margin-bottom:18px;
}
[data-ds="pro"] .dashboard-grid > *{height:100%}
[data-ds="pro"] .dashboard-wide{margin-bottom:18px}
[data-ds="pro"] .dashboard-wide:last-of-type{margin-bottom:0}
[data-ds="pro"] .dashboard-grid .summary-grid{margin-top:8px}
[data-ds="pro"] .dashboard-grid .summary-item{min-height:74px}
[data-ds="pro"] .dashboard-grid .table-card table{font-size:0.84rem}
[data-ds="pro"] .dashboard-grid thead th{font-size:0.66rem}
[data-ds="pro"] .dashboard-grid .table-card{display:flex;flex-direction:column}
[data-ds="pro"] .dashboard-grid .table-card table{margin-top:6px}
[data-ds="pro"] .dashboard-main .card,
[data-ds="pro"] .dashboard-main .chart-card,
[data-ds="pro"] .dashboard-main .table-card{
  background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(242,246,244,0.96));
  border-color:rgba(19,42,36,0.14);
  box-shadow:0 12px 28px rgba(15,27,23,0.08);
}
[data-ds="pro"] .dashboard-main .card:hover{
  transform:none;
  box-shadow:0 14px 30px rgba(15,27,23,0.1);
}
[data-ds="pro"] .dashboard-main .card h3,
[data-ds="pro"] .dashboard-main .chart-card h3,
[data-ds="pro"] .dashboard-main .table-card h3{
  font-size:0.72rem;
  letter-spacing:0.14em;
  color:var(--pro-muted);
}
[data-ds="pro"] .dashboard-main .summary-item{
  background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(240,244,242,0.95));
  border:1px solid rgba(19,42,36,0.16);
  box-shadow:inset 0 1px 0 rgba(255,255,255,0.9);
}
[data-ds="pro"] .dashboard-main .summary-item strong{
  font-size:1.15rem;
  letter-spacing:0.04em;
}
[data-ds="pro"] .dashboard-main .action-tile{
  background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(238,242,240,0.95));
  border:1px solid rgba(19,42,36,0.14);
  box-shadow:0 10px 20px rgba(15,27,23,0.08);
}
[data-ds="pro"] .dashboard-main .tile-title{
  letter-spacing:0.04em;
  text-transform:none;
}
[data-ds="pro"] .dashboard-main .tile-sub{font-size:0.82rem}
[data-ds="pro"] .dashboard-main .panel{gap:18px}
[data-ds="pro"] .dashboard-main .table-card table{font-size:0.85rem}
[data-ds="pro"] .dashboard-main thead th{font-size:0.68rem;letter-spacing:0.12em}

.dark [data-ds="pro"] .dashboard-main .card,
.dark [data-ds="pro"] .dashboard-main .chart-card,
.dark [data-ds="pro"] .dashboard-main .table-card{
  background:linear-gradient(180deg, rgba(17,27,24,0.95), rgba(12,20,17,0.95));
  border-color:#22312d;
  box-shadow:0 12px 28px rgba(0,0,0,0.35);
}
.dark [data-ds="pro"] .dashboard-main .summary-item{
  background:linear-gradient(180deg, rgba(17,27,24,0.95), rgba(12,20,17,0.95));
  border-color:#22312d;
}
.dark [data-ds="pro"] .dashboard-main .action-tile{
  background:linear-gradient(180deg, rgba(19,30,26,0.9), rgba(12,20,17,0.9));
  border-color:#22312d;
}

@media(max-width:1200px){
  [data-ds="pro"] .dashboard-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
}
@media(max-width:900px){
  [data-ds="pro"] .dashboard-grid{grid-template-columns:1fr}
}
@media(max-width:900px){
  [data-ds="pro"] .main{padding:16px;padding-bottom:110px}
}

/* Design system preview scope (order-register.html) */
[data-ds="v1"]{
  --ds-bg:#f5f7f9;
  --ds-surface:#ffffff;
  --ds-surface-2:#eef2f6;
  --ds-text:#1f2933;
  --ds-muted:#55626f;
  --ds-accent:#1f6f5c;
  --ds-accent-strong:#132a24;
  --ds-border:#d9e0e6;
  --ds-radius-sm:10px;
  --ds-radius-md:14px;
  --ds-radius-lg:18px;
  --ds-shadow-1:0 8px 20px rgba(24,36,32,0.06);
  --ds-shadow-2:0 16px 32px rgba(24,36,32,0.1);
  --ds-space-1:4px;
  --ds-space-2:8px;
  --ds-space-3:12px;
  --ds-space-4:16px;
  --ds-space-5:20px;
  --ds-space-6:24px;
  --ds-space-7:32px;
  background:var(--ds-bg);
  color:var(--ds-text);
  background-image:
    radial-gradient(1200px 500px at -10% -10%, rgba(31,111,92,0.06), transparent 60%),
    radial-gradient(900px 400px at 110% 0%, rgba(19,42,36,0.05), transparent 55%);
}
[data-ds="v1"] .main{padding:var(--ds-space-6)}
[data-ds="v1"] .topbar{
  background:linear-gradient(120deg,#132a24,#1f6f5c);
  border-radius:var(--ds-radius-lg);
  box-shadow:var(--ds-shadow-2);
}
[data-ds="v1"] .topbar h1{font-size:1.35rem;letter-spacing:0.2px}
[data-ds="v1"] .card{
  border-radius:var(--ds-radius-lg);
  padding:var(--ds-space-6);
  box-shadow:var(--ds-shadow-1);
  border:1px solid var(--ds-border);
}
[data-ds="v1"] .card:hover{transform:none}
[data-ds="v1"] .card h3{
  font-size:0.85rem;
  letter-spacing:0.12em;
  text-transform:uppercase;
  color:var(--ds-muted);
}
[data-ds="v1"] .page-grid{gap:var(--ds-space-5)}
[data-ds="v1"] .form-row{gap:var(--ds-space-3)}
[data-ds="v1"] label{gap:var(--ds-space-1);font-weight:600;color:var(--ds-muted)}
[data-ds="v1"] input,
[data-ds="v1"] select,
[data-ds="v1"] textarea{
  background:var(--ds-surface);
  border:1px solid var(--ds-border);
  border-radius:var(--ds-radius-md);
  padding:10px 12px;
  min-height:44px;
  font-size:0.95rem;
  color:var(--ds-text);
  box-shadow:inset 0 1px 2px rgba(11,18,32,0.05);
}
[data-ds="v1"] input::placeholder,
[data-ds="v1"] textarea::placeholder{color:#94a3b8}
[data-ds="v1"] .eta-input{padding-right:44px}
[data-ds="v1"] .toggle-inline{color:var(--ds-text)}
[data-ds="v1"] .mode-tabs{
  background:var(--ds-surface-2);
  border:1px solid var(--ds-border);
  padding:6px;
  border-radius:999px;
}
[data-ds="v1"] .mode-btn{
  border-radius:999px;
  background:transparent;
  border:1px solid transparent;
  box-shadow:none;
  min-height:42px;
}
[data-ds="v1"] .mode-btn.active{
  background:var(--ds-surface);
  color:var(--ds-text);
  border-color:var(--ds-border);
  box-shadow:var(--ds-shadow-1);
}
[data-ds="v1"] button,
[data-ds="v1"] .action-btn,
[data-ds="v1"] .filter-btn{
  border-radius:var(--ds-radius-md);
  padding:10px 14px;
  min-height:44px;
  font-weight:700;
  transition:transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
}
[data-ds="v1"] button:active,
[data-ds="v1"] .action-btn:active,
[data-ds="v1"] .filter-btn:active{transform:translateY(1px)}
[data-ds="v1"] .muted,
[data-ds="v1"] .action-btn,
[data-ds="v1"] .filter-btn{
  background:var(--ds-surface-2);
  border:1px solid var(--ds-border);
  color:var(--ds-text);
  box-shadow:0 6px 14px rgba(11,18,32,0.08);
}
[data-ds="v1"] .inventory-form button:not(.muted){
  background:linear-gradient(135deg,#1f6f5c,#2b8a71);
  border:1px solid rgba(31,111,92,0.4);
  box-shadow:0 10px 18px rgba(31,111,92,0.25);
}
[data-ds="v1"] .filter-btn.active{
  background:linear-gradient(135deg,#132a24,#1f6f5c);
  color:#fff;
  border-color:rgba(31,111,92,0.5);
}
[data-ds="v1"] .badge{
  border-radius:999px;
  padding:6px 12px;
  font-weight:800;
  letter-spacing:0.02em;
  background:rgba(15,122,87,0.12);
  border-color:rgba(15,122,87,0.32);
}
[data-ds="v1"] .summary-item{
  background:linear-gradient(135deg,#ffffff,#f3f6fb);
  border-radius:var(--ds-radius-lg);
  border:1px solid var(--ds-border);
}
[data-ds="v1"] .summary-item strong{color:var(--ds-accent)}
[data-ds="v1"] .summary-row{
  border-radius:var(--ds-radius-md);
  border:1px solid var(--ds-border);
  background:var(--ds-surface);
  box-shadow:0 6px 14px rgba(11,18,32,0.06);
}
[data-ds="v1"] table{border-collapse:separate;border-spacing:0 6px}
[data-ds="v1"] thead th{
  padding:0 12px 6px;
  font-size:0.72rem;
  text-transform:uppercase;
  letter-spacing:0.16em;
  color:var(--ds-muted);
}
[data-ds="v1"] tbody tr{
  background:var(--ds-surface);
  box-shadow:0 6px 16px rgba(11,18,32,0.08);
}
[data-ds="v1"] tbody td{
  padding:12px;
  border-top:none;
}
[data-ds="v1"] tbody tr td:first-child{border-radius:var(--ds-radius-md) 0 0 var(--ds-radius-md)}
[data-ds="v1"] tbody tr td:last-child{border-radius:0 var(--ds-radius-md) var(--ds-radius-md) 0}
[data-ds="v1"] .ds-empty{
  border:1px dashed var(--ds-border);
  border-radius:var(--ds-radius-md);
  padding:12px;
  text-align:center;
  color:var(--ds-muted);
  background:rgba(15,122,87,0.04);
}
[data-ds="v1"] .ds-table-empty{
  text-align:center;
  color:var(--ds-muted);
  font-weight:600;
  background:rgba(15,122,87,0.04);
}
[data-ds="v1"] :is(button,input,select,textarea):focus-visible{
  outline:3px solid rgba(31,111,92,0.35);
  outline-offset:2px;
}
@media(max-width:800px){
  [data-ds="v1"] .main{padding:var(--ds-space-4);padding-bottom:110px}
  [data-ds="v1"] .card{padding:var(--ds-space-5)}
  [data-ds="v1"] .mode-tabs{border-radius:16px}
  [data-ds="v1"] input,
  [data-ds="v1"] select,
  [data-ds="v1"] textarea{font-size:16px}
}

.search-overlay{
  position:fixed;
  inset:0;
  background:rgba(5,20,16,0.55);
  display:none;
  align-items:flex-start;
  justify-content:center;
  padding:80px 16px 24px;
  z-index:2000;
}
.search-overlay.open{display:flex;}
.search-panel{
  width:min(720px,100%);
  background:#ffffff;
  border-radius:16px;
  padding:16px;
  box-shadow:0 20px 60px rgba(15,23,42,0.25);
}
.search-header{
  display:flex;
  align-items:center;
  gap:12px;
}
#globalSearchInput{
  flex:1;
  padding:12px 14px;
  border-radius:10px;
  border:1px solid #e6edf3;
  font-size:1rem;
}
.search-close{
  padding:10px 14px;
  border-radius:10px;
  border:1px solid #e6edf3;
  background:#f8fafc;
}
.search-results{
  margin-top:12px;
  max-height:60vh;
  overflow:auto;
}
.search-group-title{
  margin:12px 4px 6px;
  font-size:0.72rem;
  letter-spacing:0.12em;
  text-transform:uppercase;
  color:#6b7280;
}
.search-item{
  width:100%;
  text-align:left;
  border:1px solid #e6edf3;
  border-radius:10px;
  background:#f8fafc;
  padding:10px 12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  cursor:pointer;
  margin-bottom:8px;
}
.search-item:hover{
  background:#eef7f4;
  border-color:#bfe3d7;
}
.search-item-main{font-weight:600;color:#0f172a;}
.search-item-meta{font-size:0.85rem;color:#64748b;}
.search-empty{
  padding:16px;
  text-align:center;
  color:#6b7280;
}
.search-footer{
  margin-top:8px;
  font-size:0.8rem;
  color:#94a3b8;
  text-align:right;
}
.search-trigger{
  margin-right:10px;
}
.topbar-right .search-trigger{display:none;}
.global-search-row{display:flex;gap:8px;align-items:center;margin:0 0 12px;}
.global-search-row .search-trigger{margin-right:0;}
.search-trigger-wide{
  width:100%;
  text-align:left;
  padding:10px 14px;
  border-radius:12px;
  background:var(--surface-2);
  color:var(--ink);
  border:1px solid var(--line);
  font-weight:700;
}

.install-prompt{
  position:fixed;
  right:16px;
  bottom:90px;
  background:#0f2d24;
  color:#f8fafc;
  padding:12px 14px;
  border-radius:12px;
  box-shadow:0 10px 30px rgba(15,23,42,0.25);
  display:flex;
  align-items:center;
  gap:12px;
  z-index:1500;
}
.install-actions{
  display:flex;
  gap:8px;
}
.install-btn{
  background:#22c55e;
  color:#082015;
  border:none;
  padding:8px 12px;
  border-radius:8px;
  font-weight:600;
}

.field-hint{
  display:block;
  font-size:0.78rem;
  margin-top:4px;
  color:#b91c1c;
}
.field-hint.warn{color:#b45309;}
.field-hint.ok{color:#15803d;}

.import-preview{
  border:1px dashed #d4dde8;
  border-radius:12px;
  padding:12px;
  background:#f8fafc;
  margin-top:12px;
}
.import-preview.hidden{display:none;}
.import-summary{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-bottom:10px;
}
.import-chip{
  background:#eef2f7;
  border-radius:999px;
  padding:4px 10px;
  font-size:0.8rem;
  color:#475569;
}
.import-chip.warn{
  background:#fef3c7;
  color:#92400e;
}
.import-table{
  width:100%;
  border-collapse:collapse;
  font-size:0.85rem;
}
.import-table th,.import-table td{
  padding:6px 8px;
  border-bottom:1px solid #e5e7eb;
  text-align:left;
}
